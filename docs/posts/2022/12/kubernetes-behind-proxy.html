<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§Kubernetesæ§‹ç¯‰ï¼ˆContainerd+Calicoï¼‰ - Sogo.dev</title><meta name="description" content=" åŒæœŸã¨ä¸€ç·’ã«ãƒˆãƒ©ã‚·ãƒ¥ã—ãŸã®ã§ã€ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒä¸‹ã§ kubeadm + Containerd + Calico ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¨˜éŒ²ã‚’æ®‹ã—ã¾ã™ã€‚

## ç’°å¢ƒ

* Ubuntu 22.04
  * ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ã‚’åˆ©ç”¨ï¼ˆe-medium4 2vCPU/4GBï¼‰
* Kubernetes v1.26.0
* kubeadm v1.26.0
* Containerd v1.6.14
* Calico v3.24.5

ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã€ãƒãƒ¼ãƒ‰1å°ãšã¤ã®æ§‹æˆã¨ã—ã¾"/><meta http-equiv="content-language" content="ja"/><meta property="og:url" content="https://sogo.dev/posts/2022/12/kubernetes-behind-proxy"/><meta property="og:type" content="article"/><meta property="og:title" content="ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§Kubernetesæ§‹ç¯‰ï¼ˆContainerd+Calicoï¼‰ - Sogo.dev"/><meta property="og:description" content=" åŒæœŸã¨ä¸€ç·’ã«ãƒˆãƒ©ã‚·ãƒ¥ã—ãŸã®ã§ã€ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒä¸‹ã§ kubeadm + Containerd + Calico ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¨˜éŒ²ã‚’æ®‹ã—ã¾ã™ã€‚

## ç’°å¢ƒ

* Ubuntu 22.04
  * ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ã‚’åˆ©ç”¨ï¼ˆe-medium4 2vCPU/4GBï¼‰
* Kubernetes v1.26.0
* kubeadm v1.26.0
* Containerd v1.6.14
* Calico v3.24.5

ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã€ãƒãƒ¼ãƒ‰1å°ãšã¤ã®æ§‹æˆã¨ã—ã¾"/><meta property="og:site_name" content="Sogo.dev"/><meta property="og:image" content="https://sogo.dev/images/ogp-image.jpg"/><meta name="twitter:card" content="summary"/><meta name="next-head-count" content="13"/><link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css"/><style>
        .py-overlay, .py-pop-up {display: none;}
        </style><link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Sogo.dev"/><link rel="preconnect" href="https://use.typekit.net" crossorigin /><link rel="preload" href="/_next/static/css/ca5adee565d0260e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ca5adee565d0260e.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2f406a55eb71bd78.js" defer=""></script><script src="/_next/static/chunks/framework-d507767242394e30.js" defer=""></script><script src="/_next/static/chunks/main-f4616c45ce8fd4b5.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2772d92391d417e1.js" defer=""></script><script src="/_next/static/chunks/541-77bbfd27f79d7fee.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5B...slug%5D-246dfa32aaaaa79c.js" defer=""></script><script src="/_next/static/zaKpGxW3TNwHTLzCmrU9Q/_buildManifest.js" defer=""></script><script src="/_next/static/zaKpGxW3TNwHTLzCmrU9Q/_ssgManifest.js" defer=""></script><style data-href="https://use.typekit.net/suf5fdm.css">@import url("https://p.typekit.net/p.css?s=1&k=suf5fdm&ht=tk&f=18518&a=11062204&app=typekit&e=css");@font-face{font-family:"rooney-sans";src:url("https://use.typekit.net/af/c27ef1/00000000000000007735a2d8/30/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3") format("woff2"),url("https://use.typekit.net/af/c27ef1/00000000000000007735a2d8/30/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3") format("woff"),url("https://use.typekit.net/af/c27ef1/00000000000000007735a2d8/30/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3") format("opentype");font-display:auto;font-style:normal;font-weight:900;font-stretch:normal}.tk-rooney-sans{font-family:"rooney-sans",sans-serif}</style></head><body><div id="__next"><div class="bg-neutral-200 dark:bg-neutral-900 duration-400 min-h-screen text-neutral-900 dark:text-neutral-50 transition-all"><div class="grid grid-cols-10 justify-center max-w-7xl mx-auto"><header class="col-span-10"><div class="max-w-4xl mt-4 sm:mt-0 mx-auto flex justify-center sm:justify-between h-36 sm:h-48 items-center relative w-11/12"><div class="hidden sm:block"></div><a class="w-72 sm:w-auto" href="/"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27480%27%20height=%27160%27/%3e"/></span><img alt="logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="logo" src="/images/logo.svg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></div></header><main class="col-span-10 md:col-span-7"><article><div class="bg-white dark:bg-neutral-800 mx-auto mb-11 p-8 rounded-3xl shadow-lg w-11/12"><div><p>2022<!-- -->å¹´<!-- -->12<!-- -->æœˆ<!-- -->27<!-- -->æ—¥</p><h1 class="mt-8 font-bold leading-tight mb-5 text-4xl">ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§Kubernetesæ§‹ç¯‰ï¼ˆContainerd+Calicoï¼‰</h1><div class="flex justify-end"><a href="https://twitter.com/intent/tweet?text=%E3%83%97%E3%83%AD%E3%82%AD%E3%82%B7%E7%92%B0%E5%A2%83%E3%81%A7Kubernetes%E6%A7%8B%E7%AF%89%EF%BC%88Containerd%2BCalico%EF%BC%89%0A&amp;url=https%3A%2F%2Fsogo.dev%2Fposts%2F2022%2F12%2Fkubernetes-behind-proxy" target="_blank" rel="noopener noreferrer"><button class="bg-[#1da1f2] hover:bg-[#067acc] flex font-display items-center px-3.5 py-0.5 rounded-full text-duchs-900 hover:text-duchs-100 text-xs transition-all"><svg viewBox="0 0 20 20" style="fill:#fafafa;width:16px;height:16px"><path d="m6.29 18.12c7.53 0 11.65-6.25 11.65-11.65 0-.18 0-.35 0-.53.8-.58 1.49-1.3 2.04-2.12-.73.33-1.53.54-2.36.65.85-.5 1.49-1.31 1.81-2.27-.79.47-1.67.81-2.6.99-.75-.8-1.81-1.29-2.99-1.29-2.26 0-4.1 1.84-4.1 4.1 0 .32.04.63.1.93-3.4-.17-6.42-1.81-8.44-4.28-.35.61-.55 1.31-.55 2.06 0 1.42.73 2.68 1.82 3.41-.67-.02-1.3-.21-1.85-.51v.06c0 1.98 1.41 3.64 3.28 4.02-.34.1-.7.14-1.08.14-.26 0-.52-.02-.77-.07.52 1.63 2.04 2.81 3.83 2.84-1.41 1.1-3.17 1.76-5.09 1.76-.33 0-.65-.02-.97-.06 1.81 1.15 3.96 1.83 6.27 1.83"></path></svg><div class="ml-1 text-neutral-50">SHARE</div></button></a></div><div class="my-16 max-w-none prose dark:prose-invert prose-neutral"><p>åŒæœŸã¨ä¸€ç·’ã«ãƒˆãƒ©ã‚·ãƒ¥ã—ãŸã®ã§ã€ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒä¸‹ã§ kubeadm + Containerd + Calico ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¨˜éŒ²ã‚’æ®‹ã—ã¾ã™ã€‚</p>
<h2>ç’°å¢ƒ</h2>
<ul>
<li>Ubuntu 22.04
<ul>
<li>ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ã‚’åˆ©ç”¨ï¼ˆe-medium4 2vCPU/4GBï¼‰</li>
</ul>
</li>
<li>Kubernetes v1.26.0</li>
<li>kubeadm v1.26.0</li>
<li>Containerd v1.6.14</li>
<li>Calico v3.24.5</li>
</ul>
<p>ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã€ãƒãƒ¼ãƒ‰1å°ãšã¤ã®æ§‹æˆã¨ã—ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·ã‚’çµŒç”±ã—ãªã‘ã‚Œã°ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å‡ºã‚‰ã‚Œãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p><img src="//www.plantuml.com/plantuml/png/SoWkIImgAStDuSehJybCJ5Uevb9Go4ijASylobP8pybFIim12O51KNvfIMgHDP1NYwIee2YpBB4a5QugCIMbABMuMC5MGSdGt4ZFs53FGCz0tz1CoPeBnHo5Q6mg3PLYhQ7AalFpIehoSmfo4lDIOM9v-Icf40VKSZcavgK07Gu0" alt="network"/></p>
<p>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã® CIDR ã¯ <code>172.31.0.0/16</code>ã€ãƒ—ãƒ­ã‚­ã‚·ã¯ <code>http://172.31.0.1:3128</code> ã¨ã—ã¦é€²ã‚ã¾ã™ã€‚</p>
<p>Service CIDR ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® <code>10.96.0.0/12</code> ã‚’ã€Pod Network CIDR ã¯ Calico ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚‹ <code>192.168.0.0/16</code> ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<p>ğŸ’¡ ç­†è€…ã®ç’°å¢ƒã§ã¯ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã™ã‚‹å†…å®¹ã§æ§‹ç¯‰ã§ãã¾ã—ãŸãŒã€ç’°å¢ƒã«ã‚ˆã£ã¦çŠ¶æ³ãŒç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·é…ä¸‹ã§ã®æ§‹ç¯‰ã«æŒ‘æˆ¦ã™ã‚‹å‰ã«ã€<strong>ã¾ãšã¯ä¼¼ãŸç’°å¢ƒã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒã‚ã‚‹ã‚µãƒ¼ãƒãƒ¼ã§è©¦ã™ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™</strong>ã€‚</p>
<h2>ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šãŒå¿…è¦ãªç®‡æ‰€</h2>
<h3>ç’°å¢ƒå¤‰æ•°ï¼ˆ<code>~/.bashrc</code>ï¼‰</h3>
<h4>ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³</h4>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>export HTTP_PROXY=http://172.31.0.1:3128
</span>export HTTPS_PROXY=http://172.31.0.1:3128
<!-- -->export NO_PROXY=localhost,127.0.0.1,172.31.0.0/16,10.96.0.0/12,192.168.0.0/16</code></pre></pre>
<p>ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã§ã¯ <code>NO_PROXY</code> ã« Sercice CIDR ã® IP ãƒ¬ãƒ³ã‚¸ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ <code>10.96.0.0/12</code>ï¼‰ã¨ Pod Network CIDR ã® IP ãƒ¬ãƒ³ã‚¸ã‚’è¨­å®šã—ã¦ãŠãã“ã¨ã§ <code>kubeadm init</code> æ™‚ã® preflight check ã® WARNING ã‚’æŠ‘ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>ã€‚</p>
<p>åæ˜ ã™ã‚‹ã«ã¯ <code>source ~/.bashrc</code> ã—ã¾ã™ã€‚</p>
<h4>ãƒãƒ¼ãƒ‰</h4>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>export HTTP_PROXY=http://172.31.0.1:3128
</span>export HTTPS_PROXY=http://172.31.0.1:3128
<!-- -->export NO_PROXY=localhost,127.0.0.1,172.31.0.0/16</code></pre></pre>
<p>ãƒãƒ¼ãƒ‰ã§ã¯ <code>kubeadm init</code> ã‚’å®Ÿè¡Œã—ãªã„ã®ã§ã“ã‚Œã ã‘ã§ OKã€‚</p>
<h3><code>/etc/apt/apt.conf</code></h3>
<p>å„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãŸã‚ã«å¿…è¦ã§ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>Acquire::http::proxy &quot;http://172.31.0.1:3128&quot;;
</span>Acquire::https::proxy &quot;http://172.31.0.1:3128&quot;;</code></pre></pre>
<h3><code>/etc/systemd/system/containerd.service.d/http-proxy.conf</code></h3>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>[Service]
</span>Environment=&quot;HTTP_PROXY=http://172.31.0.1:3128&quot;
<!-- -->Environment=&quot;HTTPS_PROXY=http://172.31.0.1:3128&quot;
<!-- -->Environment=&quot;NO_PROXY=localhost,127.0.0.1,172.31.0.0/16,10.96.0.0/12&quot;</code></pre></pre>
<p><code>NO_PROXY</code> ã« Pod Network CIDR ã® IP ãƒ¬ãƒ³ã‚¸ã‚‚è¿½åŠ ã—ã‚ˆã†ã‹ã¨æ€ã£ãŸã®ã§ã™ãŒã€ãƒãƒ¼ãƒ‰ã‚’è·¨ã„ã  Pod é–“ã®é€šä¿¡ãªã©è©¦ã—ãŸç¯„å›²ã§ã¯è¿½åŠ ã—ãªãã¦ã‚‚ç•°å¸¸ãŒãªã‹ã£ãŸã®ã§è¿½åŠ ã—ã¦ã„ã¾ã›ã‚“ã€‚<br/>
ç­†è€…ã® Kubernetes ã®çŸ¥è­˜ãŒæµ…ã„ã ã‘ã‹ã‚‚ã—ã‚Œãªã„ã®ã§ã€æ¤œè¨¼ä¸è¶³ã§ã—ãŸã‚‰æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã§ã™ã€‚ğŸ™‡</p>
<p>ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ãŸã‚‰ Containerd ã®å†èµ·å‹•ãŒå¿…è¦ã§ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>systemctl daemon-reload
</span>systemctl restart containerd</code></pre></pre>
<h2>æ§‹ç¯‰æ‰‹é †</h2>
<p>ä¸Šè¨˜ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šä»¥å¤–ã¯é€šå¸¸ã®æ‰‹é †ã¨åŒã˜ã§ã™ã€‚</p>
<ul>
<li><a href="https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/">kubeadmã‚’ä½¿ç”¨ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ä½œæˆ</a></li>
<li><a href="https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">kubeadmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>
<li><a href="https://kubernetes.io/ja/docs/setup/production-environment/container-runtimes/">CRIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>
</ul>
<p>Ubuntu 22.04 ã§æ§‹ç¯‰ã™ã‚‹éš›ã®æ³¨æ„ç‚¹ã«ã¤ã„ã¦ã¯ <a href="/posts/2022/12/kubernetes-ubuntu22.04-cgroup-systemd">Ubuntu 22.04ã§ã®Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ï¼ˆContainerdã¨SystemdCgroupï¼‰</a> ã‚’ã”å‚ç…§ãã ã•ã„ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubeadm init --pod-network-cidr 192.168.0.0/16</span></code></pre></pre>
<h3>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®é©ç”¨</h3>
<p>æ§‹ç¯‰ãŒå®Œäº†ã—ãŸã‚‰ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é©ç”¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã¯ Calico ã‚’ä½¿ã†å ´åˆã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>curl https://raw.githubusercontent.com/projectcalico/calico/v3.24.5/manifests/calico.yaml -O
</span>kubectl apply -f calico.yaml</code></pre></pre>
<p><code>kubectl -n kube-system get po -w</code> ã—ã¦ã€1ã¤ã® <code>calico-kube-controllers</code> ã¨ãƒãƒ¼ãƒ‰æ•°åˆ†ã® <code>calico-node</code> Pod ãŒ Running ãªã‚‰å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚CoreDNS ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ãƒã‚°ã‚’è¸ã‚“ã ã‚‰ <a href="/posts/2022/12/kubernetes-coredns-loop">Kubernetesã§CoreDNSãŒãƒ«ãƒ¼ãƒ—ã—ã¦ã—ã¾ã†å•é¡Œã¸ã®å¯¾å‡¦</a> ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<h2>å‹•ä½œç¢ºèª</h2>
<p>ç°¡å˜ãªå‹•ä½œç¢ºèªã‚’ã—ã¦ã¿ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl create deployment nginx --image=nginx</span></code></pre></pre>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>POD_NAME=$(kubectl get pods -l app=nginx -o jsonpath=&quot;{.items[0].metadata.name}&quot;)</span></code></pre></pre>
<p>åˆ¥ã®ã‚·ã‚§ãƒ«ã‚’é–‹ãã€<code>curl localhost:8080</code> ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl port-forward $POD_NAME 8080:80</span></code></pre></pre>
<p>ãƒ­ã‚°ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl logs $POD_NAME</span></code></pre></pre>
<p>exec ã‚’è©¦ã—ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl exec -ti $POD_NAME -- nginx -v</span></code></pre></pre>
<p>NodePort Service ã‚’è©¦ã—ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl expose deployment nginx --port 80 --type NodePort</span></code></pre></pre>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>NODE_PORT=$(kubectl get svc nginx \
</span>  --output=jsonpath=&#x27;{range .spec.ports[0]}{.nodePort}&#x27;)</code></pre></pre>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>curl 127.0.0.1:$NODE_PORT</span></code></pre></pre>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl delete svc nginx</span></code></pre></pre>
<p>æ¬¡ã« Cluster IP Service ã‚’è©¦ã—ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl expose deployment nginx --port 80 --type ClusterIP</span></code></pre></pre>
<p>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æƒ³å®šã—ãŸ Pod ã‚’å»ºã¦ã¾ã™ï¼ˆnginx ã§ã™ãŒï¼‰ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl create deployment client --image=nginx</span></code></pre></pre>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>POD_NAME_CLIENT=$(kubectl get pods -l app=client -o jsonpath=&quot;{.items[0].metadata.name}&quot;)</span></code></pre></pre>
<p>Pod å†…ã§ <code>curl nginx</code> ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sh" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>kubectl exec -ti $POD_NAME_CLIENT -- curl nginx</span></code></pre></pre>
<p><code>&gt;Welcome to nginx!</code> ã® HTML ãŒè¿”ã£ã¦ã“ã‚Œã° OKï¼</p>
<h2>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é›†</h2>
<h3><code>FailedCreatePodSandBox</code> - ãƒ›ã‚¹ãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ IP ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯</h3>
<p><code>calico-kube-controllers</code> ãŒ ContainerCreating ã§æ­¢ã¾ã£ã¦ã—ã¾ã†å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>Events:
</span>  Type     Reason                  Age                 From               Message
<!-- -->  ----     ------                  ----                ----               -------
<!-- -->  Warning  FailedScheduling        115s                default-scheduler  0/1 nodes are available: 1 node(s) had untolerated taint {node.kubernetes.io/not-ready: }. preemption: 0/1 nodes are available: 1 Preemption is not helpful for scheduling..
<!-- -->  Normal   Scheduled               104s                default-scheduler  Successfully assigned kube-system/calico-kube-controllers-7bdbfc669-97wdp to controlplane
<!-- -->  Warning  FailedCreatePodSandBox  103s                kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to setup network for sandbox &quot;6a029253befac6840d358f8f78b865510bb3874b971fc7241d4ded6b1e92ce2d&quot;: plugin type=&quot;calico&quot; failed (add): stat /var/lib/calico/nodename: no such file or directory: check that the calico/node container is running and has mounted /var/lib/calico/
<!-- -->  Normal   SandboxChanged          16s (x3 over 103s)  kubelet            Pod sandbox changed, it will be killed and re-created.</code></pre></pre>
<p><code>stat /var/lib/calico/nodename: no such file or directory: check that the calico/node container is running and has mounted /var/lib/calico/</code> ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¦ã„ã¾ã™ãŒã€å®Ÿéš›ã«ã¯ãƒã‚¦ãƒ³ãƒˆã¯ã§ãã¦ã„ã¾ã—ãŸã€‚</p>
<p>ã€Œãƒã‚¦ãƒ³ãƒˆã¯ã§ãã¦ nodenameï¼ˆãƒ›ã‚¹ãƒˆåï¼‰ã¯å–å¾—ã§ãã¦ã„ã‚‹ãŒã€ãƒ—ãƒ­ã‚­ã‚·ã«é˜»ã¾ã‚Œã¦é€šä¿¡ã§ãã¦ã„ãªã„ã®ã§ã¯ï¼Ÿã€ã¨è€ƒãˆã€Containerd ã® NO_PROXY ã®è¨­å®šã«ãƒ›ã‚¹ãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã® CIDR ã‚’è¿½è¨˜ã—ãŸã‚‰ <code>172.31.0.0/16</code> ãŸã‚‰ã“ã®å•é¡Œã¯è§£æ±ºã—ã¾ã—ãŸã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span># vim /etc/systemd/system/containerd.service.d/http-proxy.conf</span></code></pre></pre>
<p><code>172.31.0.0/16</code> ã‚’è¿½è¨˜ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>[Service]
</span>Environment=&quot;HTTP_PROXY=http://172.31.0.1:3128&quot;
<!-- -->Environment=&quot;HTTPS_PROXY=http://172.31.0.1:3128&quot;
<!-- -->Environment=&quot;NO_PROXY=localhost,127.0.0.1,172.31.0.0/16&quot;</code></pre></pre>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span># systemctl daemon-reload
</span># systemctl restart containerd
<!-- --># kubectl -n kube-system delete po calico-kube-controllers-7bdbfc669-97wdp --force
<!-- -->Warning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely.
<!-- -->pod &quot;calico-kube-controllers-7bdbfc669-97wdp&quot; force deleted</code></pre></pre>
<h3><code>FailedCreatePodSandBox</code> - Service ã® IP ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯</h3>
<p>çŠ¶æ³ã¯å¤‰ã‚ã£ãŸã‚‚ã®ã®ã€ã“ã¡ã‚‰ã‚‚ <code>calico-kube-controllers</code> ãŒ ContainerCreating ã§æ­¢ã¾ã£ã¦ã—ã¾ã†å•é¡Œã§ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>Events:
</span>  Type     Reason                  Age                From               Message
<!-- -->  ----     ------                  ----               ----               -------
<!-- -->  Normal   Scheduled               3m12s              default-scheduler  Successfully assigned kube-system/calico-kube-controllers-7bdbfc669-9gltp to controlplane
<!-- -->  Warning  FailedCreatePodSandBox  72s                kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to setup network for sandbox &quot;68070146a6bd3c3a3044cbe84495c39ef3abafd069f171db2a185c8925aee2d1&quot;: plugin type=&quot;calico&quot; failed (add): error getting ClusterInformation: Get &quot;https://10.96.0.1:443/apis/crd.projectcalico.org/v1/clusterinformations/default&quot;: Service Unavailable
<!-- -->  Normal   SandboxChanged          12s (x2 over 72s)  kubelet            Pod sandbox changed, it will be killed and re-created.</code></pre></pre>
<p>ã“ã¡ã‚‰ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€šã‚Šãªã®ã§ã€Service CIDR ã‚’ Containerd ã® NO_PROXY ã«è¿½åŠ ã—ã¾ã™ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span># vim /etc/systemd/system/containerd.service.d/http-proxy.conf</span></code></pre></pre>
<p><code>10.96.0.0/12</code> ã‚’è¿½è¨˜ã€‚</p>
<pre><div></div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>[Service]
</span>Environment=&quot;HTTP_PROXY=http://172.31.0.1:3128&quot;
<!-- -->Environment=&quot;HTTPS_PROXY=http://172.31.0.1:3128&quot;
<!-- -->Environment=&quot;NO_PROXY=localhost,127.0.0.1,172.31.0.0/16,10.96.0.0/12&quot;</code></pre></pre>
<p>å…ˆã»ã©ã¨åŒã˜ã‚ˆã†ã« daemon-reload, restart containerd, Pod ã®å¼·åˆ¶å‰Šé™¤ã‚’ã—ã¾ã™ã€‚</p>
<h2>ã¾ã¨ã‚</h2>
<p>æœ€å¾Œã¾ã§ãŠèª­ã¿ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</p>
<p>ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ã¯ã€é€šå¸¸ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ã‚ˆã‚Šã‚‚ Kubernetes ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¨ã‚Šã®çŸ¥è­˜ãŒè¦æ±‚ã•ã‚Œã‚‹ã®ã§å°‘ã—ãƒãƒ¼ãƒ‰ãƒ«ãŒä¸ŠãŒã‚Šã¾ã™ã€‚</p>
<p>å†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã¾ãšã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ç›´æ¥ç¹‹ãŒã‚‹ç’°å¢ƒã§æ§‹ç¯‰ã‚’è©¦ã—ã¦ã¿ã¦ã€ãã®å¾Œã«ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§ã®æ§‹ç¯‰ã‚’å®Ÿæ–½ã™ã‚‹ã¨åŸå› ã®åˆ‡ã‚Šåˆ†ã‘ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<h2>å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li><a href="https://medium.com/@vivekanand.poojari/installing-kubernetes-behind-a-corporate-proxy-bc5582e43fb8">Installing kubernetes behind a corporate proxy</a></li>
<li><a href="https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/">kubeadmã‚’ä½¿ç”¨ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ä½œæˆ</a></li>
<li><a href="https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">kubeadmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>
<li><a href="https://kubernetes.io/ja/docs/setup/production-environment/container-runtimes/">CRIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>
<li><a href="https://projectcalico.docs.tigera.io/getting-started/kubernetes/self-managed-onprem/onpremises">Install Calico networking and network policy for on-premises deployments</a></li>
</ul>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-1">
<p>ä»¥å‰ã¯ IP ãƒ¬ãƒ³ã‚¸ã‚’æŒ‡å®šã§ããªã‹ã£ãŸã‚ˆã†ã§ã™ãŒã€ä»Šã¯å•é¡Œãªãä½¿ãˆã¾ã™ã€‚<a href="https://github.com/kubernetes/kubeadm/issues/324#issuecomment-331483277">https://github.com/kubernetes/kubeadm/issues/324#issuecomment-331483277</a> <a href="#user-content-fnref-1" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
</ol>
</section></div><ul class="flex flex-wrap mt-5"><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/kubernetes"># <!-- -->Kubernetes</a></ul></div></div><div class="flex flex-col sm:flex-row justify-between mx-auto w-11/12"><div class="w-full sm:w-1/2"><a class="dark:hover:bg-neutral-600 hover:bg-neutral-300 flex group items-center rounded-full transition-all pr-10" href="/posts/2023/01/keyboard-remap"><div class="bg-duchs-200 group-hover:bg-duchs-800 flex items-center justify-center h-14 mx-5 first:ml-0 last:mr-0 px-3 rounded-full transition-all w-14"><svg class="fill-duchs-900 group-hover:fill-duchs-100" viewBox="0 0 10.19 8.33"><g><path d="M.31,4.9c-.11-.11-.19-.23-.24-.35s-.07-.25-.07-.37c0-.13,.02-.26,.07-.38s.13-.24,.24-.35L3.45,.32c.09-.09,.19-.17,.29-.23s.22-.09,.36-.09,.27,.03,.4,.09,.24,.14,.33,.24,.17,.21,.23,.33,.08,.25,.08,.38-.03,.25-.08,.35-.13,.21-.23,.3l-.87,.89c-.11,.11-.22,.22-.34,.32s-.24,.19-.36,.28h5.99c.15,0,.29,.03,.4,.08s.22,.12,.3,.21,.14,.2,.18,.32,.06,.25,.06,.39-.02,.26-.06,.38-.1,.22-.18,.31-.18,.16-.3,.21-.25,.08-.4,.08H3.42c.12,.09,.25,.18,.37,.28s.23,.2,.34,.32l.76,.79c.1,.1,.18,.2,.23,.31s.08,.22,.08,.34c0,.14-.03,.28-.1,.41s-.15,.25-.26,.36-.22,.19-.36,.25-.27,.09-.4,.09c-.12,0-.23-.03-.34-.08s-.21-.13-.31-.23L.31,4.9Z"></path></g></svg></div><div class=""><p class="line-clamp-1 mb-1">2023å¹´ç‰ˆ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã®å€‹äººçš„ãƒ¡ãƒ¢</p><p class="text-neutral-500">2023<!-- -->å¹´<!-- -->1<!-- -->æœˆ<!-- -->8<!-- -->æ—¥</p></div></a></div><div class="w-full sm:w-1/2"><a class="dark:hover:bg-neutral-600 hover:bg-neutral-300 flex group items-center rounded-full transition-all pl-10 justify-end" href="/posts/2022/12/kubernetes-ubuntu22.04-cgroup-systemd"><div class="text-end"><p class="line-clamp-1 mb-1">Ubuntu 22.04ã§ã®Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ï¼ˆContainerdã¨SystemdCgroupï¼‰</p><p class="text-neutral-500">2022<!-- -->å¹´<!-- -->12<!-- -->æœˆ<!-- -->26<!-- -->æ—¥</p></div><div class="bg-duchs-200 group-hover:bg-duchs-800 flex items-center justify-center h-14 mx-5 first:ml-0 last:mr-0 px-3 rounded-full transition-all w-14"><svg class="fill-duchs-900 group-hover:fill-duchs-100" viewBox="0 0 10.19 8.33"><g><path d="M6.77,3.16c-.12-.09-.25-.18-.37-.28s-.23-.2-.34-.32l-.76-.79c-.1-.1-.18-.2-.23-.31s-.08-.22-.08-.34c0-.14,.03-.28,.1-.41s.15-.25,.26-.36,.22-.19,.36-.25,.27-.09,.4-.09c.12,0,.23,.03,.34,.08s.21,.13,.31,.23l3.12,3.12c.11,.11,.19,.23,.24,.35s.07,.25,.07,.37c0,.13-.02,.26-.07,.38s-.13,.24-.24,.35l-3.13,3.13c-.09,.09-.19,.17-.29,.23s-.22,.09-.36,.09-.27-.03-.4-.09-.24-.14-.33-.24-.17-.21-.23-.33-.08-.25-.08-.38,.03-.25,.08-.35,.13-.21,.23-.3l.87-.89c.11-.11,.22-.22,.34-.32s.24-.19,.36-.28H.95c-.15,0-.29-.03-.4-.08s-.22-.12-.3-.21-.14-.2-.18-.32-.06-.25-.06-.39,.02-.26,.06-.38,.1-.22,.18-.31,.18-.16,.3-.21,.25-.08,.4-.08H6.77Z"></path></g></svg></div></a></div></div></article></main><aside class="col-span-10 md:col-span-3"><div class="mx-auto w-11/12 mb-8"><h2 class="font-black font-display text-duchs-900 dark:text-duchs-100 text-xl">AUTHOR</h2><div class="flex items-center my-3.5"><div class="mr-2.5"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2780%27%20height=%2780%27/%3e"/></span><img alt="ã‚¢ã‚¤ã‚³ãƒ³" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="ã‚¢ã‚¤ã‚³ãƒ³" src="/images/icon.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span></div><div><p class="font-black font-display mb-2 text-duchs-900 dark:text-duchs-100 text-lg">Sogo Kato</p><div class="flex"><a class="mr-2 hover:opacity-75 transition-all" target="_blank" href="https://github.com/SogoKato"><div class="dark:hidden"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2720%27%20height=%2720%27/%3e"/></span><img alt="GitHubã‚¢ã‚¤ã‚³ãƒ³" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="GitHubã‚¢ã‚¤ã‚³ãƒ³" src="/images/github-light.svg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="hidden dark:block"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2720%27%20height=%2720%27/%3e"/></span><img alt="GitHubã‚¢ã‚¤ã‚³ãƒ³" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="GitHubã‚¢ã‚¤ã‚³ãƒ³" src="/images/github-dark.svg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div></a></div></div></div><p class="mb-2.5 text-xs">ã‚¯ãƒ©ã‚¦ãƒ‰æ¥­ç•Œã«ç”Ÿæ¯ã™ã‚‹é§†ã‘å‡ºã—ã¸ã£ã½ã“ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€‚ãƒ©ã‚ºãƒ‘ã‚¤ã¨ãƒ€ãƒƒã‚¯ã‚¹ãŒã™ãã€‚è³‡æ ¼ãŸãã•ã‚“ã»ã—ã„ã®ã§ä½™ã£ã¦ã‚‹äººã¯ãŠè£¾åˆ†ã‘ãã ã•ã„ã€‚</p><a href="/profile"><button class="bg-duchs-200 hover:bg-duchs-800 font-black font-display px-3.5 py-0.5 rounded-full text-duchs-900 hover:text-duchs-100 transition-all">MORE</button></a></div><div class="mx-auto w-11/12 mb-8"><h2 class="font-black font-display text-duchs-900 dark:text-duchs-100 text-xl">RECOMMENDED</h2><ul class="mt-3.5"><a class="block mb-3 hover:opacity-75 transition-all" href="/posts/2023/06/k8s-raspi-gpio"><p class="mb-1 text-xs">Kubernetesã®Podã‹ã‚‰ãƒ©ã‚ºãƒ‘ã‚¤ã®GPIOã‚’æ“ä½œã™ã‚‹</p><p class="text-neutral-500 text-xs">2023<!-- -->å¹´<!-- -->6<!-- -->æœˆ<!-- -->24<!-- -->æ—¥</p></a><a class="block mb-3 hover:opacity-75 transition-all" href="/posts/2023/06/k3s-setup"><p class="mb-1 text-xs">ãƒ©ã‚ºãƒ‘ã‚¤ã§K3sã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰</p><p class="text-neutral-500 text-xs">2023<!-- -->å¹´<!-- -->6<!-- -->æœˆ<!-- -->13<!-- -->æ—¥</p></a><a class="block mb-3 hover:opacity-75 transition-all" href="/posts/2023/03/certified-kubernetes-application-developer"><p class="mb-1 text-xs">CKADå—æ¤œè¨˜éŒ²ã€2023å¹´ç‰ˆã€‘</p><p class="text-neutral-500 text-xs">2023<!-- -->å¹´<!-- -->3<!-- -->æœˆ<!-- -->30<!-- -->æ—¥</p></a><a class="block mb-3 hover:opacity-75 transition-all" href="/posts/2022/12/kubernetes-ubuntu22.04-cgroup-systemd"><p class="mb-1 text-xs">Ubuntu 22.04ã§ã®Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ï¼ˆContainerdã¨SystemdCgroupï¼‰</p><p class="text-neutral-500 text-xs">2022<!-- -->å¹´<!-- -->12<!-- -->æœˆ<!-- -->26<!-- -->æ—¥</p></a><a class="block mb-3 hover:opacity-75 transition-all" href="/posts/2022/12/kubernetes-coredns-loop"><p class="mb-1 text-xs">Kubernetesã§CoreDNSãŒãƒ«ãƒ¼ãƒ—ã—ã¦ã—ã¾ã†å•é¡Œã¸ã®å¯¾å‡¦</p><p class="text-neutral-500 text-xs">2022<!-- -->å¹´<!-- -->12<!-- -->æœˆ<!-- -->24<!-- -->æ—¥</p></a></ul></div><div class="mx-auto w-11/12 mb-8"><h2 class="font-black font-display text-duchs-900 dark:text-duchs-100 text-xl">TAGS</h2><ul class="flex flex-wrap mt-3.5"><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/python"># <!-- -->Python</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/kubernetes"># <!-- -->Kubernetes</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/aws"># <!-- -->AWS</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/å˜ä½“ãƒ†ã‚¹ãƒˆ"># <!-- -->å˜ä½“ãƒ†ã‚¹ãƒˆ</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/èªè¨¼-èªå¯"># <!-- -->èªè¨¼/èªå¯</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/raspberry-pi"># <!-- -->Raspberry Pi</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/sqlalchemy"># <!-- -->SQLAlchemy</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/èª­æ›¸"># <!-- -->èª­æ›¸</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/fastapi"># <!-- -->FastAPI</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/gitlab"># <!-- -->GitLab</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ci-cd"># <!-- -->CI/CD</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/è³‡æ ¼"># <!-- -->è³‡æ ¼</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"># <!-- -->ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/react"># <!-- -->React</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/docker"># <!-- -->Docker</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/é–‹ç™ºç’°å¢ƒ"># <!-- -->é–‹ç™ºç’°å¢ƒ</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/go"># <!-- -->Go</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ãƒ‹ãƒ•ã‚¯ãƒ©"># <!-- -->ãƒ‹ãƒ•ã‚¯ãƒ©</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/fluentd"># <!-- -->Fluentd</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/personal"># <!-- -->Personal</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/javascript"># <!-- -->JavaScript</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/next.js"># <!-- -->Next.js</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/terraform"># <!-- -->Terraform</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/cedar"># <!-- -->Cedar</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/rust"># <!-- -->Rust</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/rye"># <!-- -->Rye</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/passkey"># <!-- -->Passkey</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/bitwarden"># <!-- -->Bitwarden</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/github"># <!-- -->GitHub</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/volumio"># <!-- -->Volumio</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/synology"># <!-- -->Synology</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/nas"># <!-- -->NAS</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/rsync"># <!-- -->rsync</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ãƒ­ã‚°"># <!-- -->ãƒ­ã‚°</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ubuntu"># <!-- -->Ubuntu</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/k3s"># <!-- -->K3s</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/celery"># <!-- -->Celery</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/joy-ui"># <!-- -->Joy-UI</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/kaniko"># <!-- -->Kaniko</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ã‚³ãƒ³ãƒ†ãƒŠ"># <!-- -->ã‚³ãƒ³ãƒ†ãƒŠ</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/è‡ªå®…ã‚µãƒ¼ãƒãƒ¼"># <!-- -->è‡ªå®…ã‚µãƒ¼ãƒãƒ¼</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯"># <!-- -->ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/vpn"># <!-- -->VPN</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/wireguard"># <!-- -->WireGuard</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/haproxy"># <!-- -->HAProxy</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/webassembly"># <!-- -->WebAssembly</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/pyscript"># <!-- -->PyScript</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ansible"># <!-- -->Ansible</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/apt"># <!-- -->APT</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/api-gateway"># <!-- -->API Gateway</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/orm"># <!-- -->ORM</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/mysql"># <!-- -->MySQL</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰"># <!-- -->ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/vs-code"># <!-- -->VS Code</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/openid-connect"># <!-- -->OpenID Connect</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/spa"># <!-- -->SPA</a><a class="bg-duchs-100 hover:bg-duchs-500 font-bold mb-2 mr-3 px-5 py-1 rounded-full dark:text-neutral-900 hover:text-neutral-50 hover:dark:text-neutral-50 text-xs transition-all" href="/tags/tailwind-css"># <!-- -->Tailwind CSS</a></ul></div><div class="mx-auto w-11/12 "><h2 class="font-black font-display text-duchs-900 dark:text-duchs-100 text-xl">LINKS</h2><a class="block mb-1 mt-3.5 hover:opacity-75 transition-all" href="/feed.xml"><p>RSS</p></a><a class="block mb-1 hover:opacity-75 transition-all" target="_blank" href="https://github.com/SogoKato/sogokato.github.io"><p class="flex items-center">GitHub <svg class="fill-neutral-900 dark:fill-neutral-100 h-3 ml-2" viewBox="0 0 7.82 7.82"><g><path d="M4.41,2.01c-.15,.02-.3,.04-.46,.06s-.31,.02-.46,.01l-1.1-.02c-.14,0-.27-.02-.38-.06s-.21-.1-.3-.19c-.1-.1-.17-.22-.22-.36s-.07-.29-.07-.44c0-.15,.02-.29,.07-.43s.12-.26,.22-.35c.09-.09,.18-.15,.29-.18S2.24,0,2.39,0H6.8c.15,0,.29,.03,.41,.08s.23,.12,.31,.21c.09,.09,.17,.2,.22,.32s.08,.26,.08,.41V5.46c0,.13-.02,.26-.05,.37s-.09,.22-.19,.31-.21,.17-.35,.22-.27,.07-.4,.07-.27-.03-.4-.07-.24-.12-.33-.21-.15-.19-.19-.31-.05-.24-.05-.38l-.02-1.24c0-.16,0-.31,.02-.46s.03-.3,.06-.46L1.7,7.53c-.11,.11-.22,.18-.34,.23s-.24,.07-.36,.06-.24-.04-.35-.09-.22-.13-.32-.23-.17-.2-.23-.31S0,6.95,0,6.83s.01-.24,.06-.36,.12-.23,.23-.34L4.41,2.01Z"></path></g></svg></p></a></div></aside><footer class="col-span-10"><div class="flex flex-col items-center py-10"><a class="mb-2 text-xs" href="/privacy">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a><small>Copyright Â© <!-- -->2023<!-- --> Sogo Kato All rights reserved.</small></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"Cedarã§ï¼ˆè¶…æœ€å°é™ãªï¼‰RBACèªå¯ã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹","date":"2023-12-07T00:00:00.000Z","ref":"/posts/2023/12/cedar-rbac","desc":" ã“ã®è¨˜äº‹ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ç­‰ã‚’æä¾›ã—ã¦ã„ã‚‹ã€å¯Œå£«é€šã‚¯ãƒ©ã‚¦ãƒ‰ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚º Advent Calendar 2023ã®7æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\næ˜¨æ—¥ã¯ @George22e ã•ã‚“ã® ãƒ´ã‚¡ã‚¤ã‚ªãƒªãƒ³ã®éŸ³è‰²ã®ã‚ˆã•ã¯ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ã§åˆ†ã‹ã‚‹ã‹è©¦ã—ã¦ã¿ãŸ ã§ã—ãŸã€‚  \nè‡ªã‚‰ã®æ¼”å¥ã¨ãƒ—ãƒ­ã®æ¼”å¥ã‚’å¯è¦–åŒ–ã—ã¦åˆ†æã™ã‚‹å§¿å‹¢ã«ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®ç²¾ç¥ã¨é€šã˜ã‚‹ã‚‚ã®ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚ç§ã‚‚ä»•äº‹ã§ã‚‚è¶£å‘³ã§ã‚‚æœ¬æ°—ã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã—ã¦ã„ããŸã„ã§ã™ã€‚\n\nä»Šæ—¥ã¯ AWS ãŒå…¬é–‹ã—ã¦ã„ã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ç”¨ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è¨€èª Cedar ã¨ãã®èªå¯ã‚¨ãƒ³ã‚¸ãƒ³","draft":false,"tags":[{"name":"Cedar","ref":"/tags/cedar"},{"name":"AWS","ref":"/tags/aws"},{"name":"èªè¨¼/èªå¯","ref":"/tags/èªè¨¼-èªå¯"},{"name":"Rust","ref":"/tags/rust"}],"showTerminalAside":false},{"title":"Ryeã‚’Dockerã§ä½¿ã†æ™‚ã®ãƒã‚¤ãƒ³ãƒˆ","date":"2023-11-18T00:00:00.000Z","ref":"/posts/2023/11/rye-with-docker","desc":" Rye ã¯ Rust è£½ã® Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã§ã™ã€‚ã¾ã ã€Œå®Ÿé¨“çš„ã€ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã®ã§å…¨ã¦ã®æ–¹ã«ãŠå‹§ã‚ã§ãã‚‹æ®µéšã§ã¯ãªã„ã‹ã‚‚ã—ã‚Œãªã„ã§ã™ãŒã€ååˆ†ã«å®Ÿç”¨çš„ã§å®‰å®šã—ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚Pipenv ã‚„ Poetry ã¨ã®é•ã„ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã ã‘ã§ãªãã€Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç®¡ç†ã¾ã§ã‚„ã£ã¦ãã‚Œã‚‹ã¨ã“ã‚ãŒç‰¹å¾´ã§ã€Pipenv/Poetry + pyenv ãŒ1ã¤ã®ãƒ„ãƒ¼ãƒ«ã«ã¾ã¨ã¾ã£ã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\n\nã•ã¦ã€ä»Šå›ã¯ Rye ã‚’ Docker ã‚³ãƒ³ãƒ†ãƒŠã§ä½¿ã†æ™‚ã®ãƒã‚¤ãƒ³ãƒˆã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚Rye ","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"Rye","ref":"/tags/rye"},{"name":"Docker","ref":"/tags/docker"}],"showTerminalAside":false},{"title":"AWS SigV4ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã€Œæ¤œè¨¼ã™ã‚‹å´ã€ã‚’å®Ÿè£…ã™ã‚‹","date":"2023-11-09T00:00:00.000Z","ref":"/posts/2023/11/implementing-aws-sigv4-server","desc":" ä¸–ã®ä¸­ã«ã¯ AWS Signature V4 ç½²åã®å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ã®è¨˜äº‹ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€ãã®ç½²åã‚’ä»˜ä¸ã—ã¦æ¤œè¨¼ã™ã‚‹å´ï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰ã®å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦è¦‹ã¤ã‘ã‚‹ã®ã¯é›£ã—ã„ã§ã™ã€‚AWS API Gateway ã‚’ä½¿ãˆã°ç°¡å˜ã«è‡ªåˆ†ã§æ›¸ã‹ãªãã¦ã‚‚è‰¯ã„ã®ã§ãã‚Œã¯ãã†ãªã®ã§ã™ãŒã€AWS SigV4 ã¯ curl ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã‚‚ä½¿ãˆã‚‹ ãã‚‰ã„ã®åœ°ä½ã‚’ç²å¾—ã—ã¦ã„ã‚‹ã®ã§ã€AWS SigV4 ã‚’åˆ©ç”¨ã—ãŸèªè¨¼æ©Ÿèƒ½ã®å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ã®è¨˜äº‹ãŒã‚ã£ã¦ã‚‚ã„ã„ã§ã—ã‚‡ã†ã€‚\n\nã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã¯ Python ã¨ FastAPI","draft":false,"tags":[{"name":"èªè¨¼/èªå¯","ref":"/tags/èªè¨¼-èªå¯"},{"name":"AWS","ref":"/tags/aws"},{"name":"Python","ref":"/tags/python"},{"name":"FastAPI","ref":"/tags/fastapi"}],"showTerminalAside":false},{"title":"Bitwardenãƒ–ãƒ©ã‚¦ã‚¶æ‹¡å¼µãŒPasskeyã«å¯¾å¿œã—ãŸã®ã§è©¦ã—ã¦ã¿ãŸ","date":"2023-11-08T00:00:00.000Z","ref":"/posts/2023/11/bitwarden-passkey","desc":" ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ã«ã‚ˆã‚‹ Passkey ã®ã‚µãƒãƒ¼ãƒˆãŒé€²ã‚“ã§ã„ã¾ã™ã€‚\n\nç§ã¯ Bitwarden ã‚’ä½¿ã£ã¦ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã®æ©Ÿå¯†æƒ…å ±ã‚’ä¿å­˜ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ã¤ã„ã« Bitwarden ã«ã‚ˆã‚‹ Passkey å¯¾å¿œãŒå§‹ã¾ã‚Šã¾ã—ãŸã€‚å…¬å¼ãƒ–ãƒ­ã‚°ã§ã‚‚11æœˆ7æ—¥ã«æŠ•ç¨¿ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\n## ç’°å¢ƒ\n\n* Bitwarden Firefox ã‚¢ãƒ‰ã‚ªãƒ³ 2023.10.1\n* Firefox 118.0.2\n\n## è©¦ã—ã¦ã¿ã‚‹\n\næ—¢ã«ã„ãã¤ã‚‚ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒ Passkey å¯¾å¿œã—ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ","draft":false,"tags":[{"name":"Passkey","ref":"/tags/passkey"},{"name":"Bitwarden","ref":"/tags/bitwarden"},{"name":"èªè¨¼/èªå¯","ref":"/tags/èªè¨¼-èªå¯"}],"showTerminalAside":false},{"title":"GitLabã®Remote developmentã‚’è©¦ã—ã¦ã¿ã‚‹","date":"2023-10-24T00:00:00.000Z","ref":"/posts/2023/10/gitlab-remote-development","desc":" VS Code Serverã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã®ã‚³ãƒ³ãƒ†ãƒŠä¸Šé–‹ç™ºç’°å¢ƒã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®è¨˜äº‹ã«ã¦ GitHub ã§ã‚„ã£ã¦ã„ã‚‹ã€Œã¼ãã®ã‹ã‚“ãŒãˆãŸã•ã„ãã‚‡ã†ã®ã‹ã„ã¯ã¤ã‹ã‚“ãã‚‡ã†ã€ç¬¬2å¼¾ã§ã™ã€‚ä»Šå›ã¯ GitLab ã‚’ä½¿ã£ã¦ãƒªãƒ¢ãƒ¼ãƒˆé–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚  \nãªãŠã€GitLab ã«ã¯ Premium ä»¥ä¸Šã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ä½¿ãˆã‚‹ Workspaces ã¨ã„ã†æ©Ÿèƒ½ãŒ 16.0 ã§ç™»å ´ã—ã¾ã—ãŸãŒã€ä»Šå›ã¯ãã‚Œã§ã¯ãªãã€è‡ªåˆ†ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¦ã¦ãã“ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚ã“ã¡ã‚‰ã¯ç„¡æ–™ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ä½¿ãˆã¾ã™ã€‚ãŸã ã—åŸ·","draft":false,"tags":[{"name":"GitLab","ref":"/tags/gitlab"},{"name":"é–‹ç™ºç’°å¢ƒ","ref":"/tags/é–‹ç™ºç’°å¢ƒ"}],"showTerminalAside":false},{"title":"GitHub Actionsã§Goè£½ãƒ„ãƒ¼ãƒ«ã‚’ãƒ“ãƒ«ãƒ‰\u0026ãƒªãƒªãƒ¼ã‚¹ã€GoReleaserã€‘","date":"2023-09-26T00:00:00.000Z","ref":"/posts/2023/09/github-actions-goreleaser","desc":" å‰å›ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸ nifdiff ã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹éš›ã«ã€ç°¡å˜ã« GitHub actions ã‚’ä½¿ã£ã¦ Go è£½ãƒ„ãƒ¼ãƒ«ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ãŸã®ã§ãƒ¡ãƒ¢ã§ã™ã€‚\n\n## ãƒã‚¤ãƒ³ãƒˆ\n\n* GoReleaser ã‚’ä½¿ã†ã¨ Go ã§ä½œã£ãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ç´ æ—©ãå‡ºè·ã§ãã‚‹\n* kyoh86/git-vertag-action ã‚’ä½¿ã†ã¨æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰ +1 ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒ»ãƒã‚¤ãƒŠãƒ¼ãƒ»ãƒ‘ãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¿ã‚°ã‚’ä½œæˆã§ãã‚‹\n\n## ä»Šå›ã‚„ã£ãŸã“ã¨\n\n* Go è£½ãƒ„ãƒ¼ãƒ«ã‚’ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã€","draft":false,"tags":[{"name":"Go","ref":"/tags/go"},{"name":"GitHub","ref":"/tags/github"},{"name":"CI/CD","ref":"/tags/ci-cd"}],"showTerminalAside":false},{"title":"ãƒ‹ãƒ•ã‚¯ãƒ©ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¯”è¼ƒã§ãã‚‹ãƒ„ãƒ¼ãƒ«nifdiffã‚’ä½œã£ãŸ","date":"2023-09-25T00:00:00.000Z","ref":"/posts/2023/09/nifdiff","desc":" 2ã¤ã®ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚°ãƒ«ãƒ¼ãƒ—ã®ãƒ«ãƒ¼ãƒ«ã®å·®åˆ†ã‚’è¦‹ãŸã„ã“ã¨ãŒã‚ã£ã¦ã€ã¡ã‚‡ã£ã¨ã—ãŸãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\n\n## nifdiff ã¨ã¯\n\n* 2ã¤ã®ãƒ‹ãƒ•ã‚¯ãƒ©ãƒªã‚½ãƒ¼ã‚¹ã®å·®åˆ†ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«\n* åŒä¸€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã§ã‚ã‚Œã°ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¾ãŸãã§æ¯”è¼ƒã§ãã‚‹\n* ç¾çŠ¶å¯¾å¿œã—ã¦ã„ã‚‹ã®ã¯ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚°ãƒ«ãƒ¼ãƒ—ã®ã¿\n\nhttps://github.com/SogoKato/nifdiff\n\nã“ã‚“ãªæ„Ÿã˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æŠ•ã’ã‚‹ã¨\n\n```\nnifdiff nrn:nifcloud:computing:jp-east-1::","draft":false,"tags":[{"name":"ãƒ‹ãƒ•ã‚¯ãƒ©","ref":"/tags/ãƒ‹ãƒ•ã‚¯ãƒ©"},{"name":"Go","ref":"/tags/go"}],"showTerminalAside":false},{"title":"AWS Certified Solutions Architect - Professionalã‚’å–å¾—ã—ãŸ","date":"2023-09-21T00:00:00.000Z","ref":"/posts/2023/09/aws-solutions-architect-professional","desc":" AWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ - Professional (SAP-C02) ã®è³‡æ ¼ã‚’å–å¾—ã—ãŸã®ã§å­¦ç¿’ãƒ¡ãƒ¢ã§ã™ã€‚\n\néå»ã®è³‡æ ¼ã«é–¢ã™ã‚‹è¨˜äº‹ã¯ã“ã¡ã‚‰\n* AWS Certified Solutions Architect - Associateã‚’å–å¾—ã—ãŸ\n* CKADå—æ¤œè¨˜éŒ²ã€2023å¹´ç‰ˆã€‘\n* GCPæœªçµŒé¨“ã®æ–°å’2å¹´ç›®ãŒAssociate Cloud Engineerã¨Professional Cloud Architectã‚’é€£ç¶šã§å—æ¤œã—ãŸã¨ãã®è¨˜éŒ²\n* æ–°å’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒCKAå–å¾—ã‚’ç›®æŒ‡ã—ã¦K","draft":false,"tags":[{"name":"AWS","ref":"/tags/aws"},{"name":"è³‡æ ¼","ref":"/tags/è³‡æ ¼"}],"showTerminalAside":false},{"title":"Fluentdã‚’Docker Swarmã«DaemonSetçš„ã«é…ç½®ã—ã¦ãƒ­ã‚°ã‚’åé›†ã™ã‚‹","date":"2023-09-15T00:00:00.000Z","ref":"/posts/2023/09/fluentd-docker-swarm","desc":" Docker Swarm ä¸Šã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°ã‚’ fluentd ã‚’ä½¿ã£ã¦é€ä¿¡ã™ã‚‹ãŸã‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\n\nKubernetes ã§åŒæ§˜ã®ã“ã¨ã‚’å®Ÿç¾ã™ã‚‹å ´åˆã€Forwarder ã¨ã—ã¦ä½¿ã† fluentd ã‚’ DaemonSet ã¨ã—ã¦èµ·å‹•ã—ã¦ãƒãƒ¼ãƒ‰ä¸Šã®ãƒ­ã‚°ã‚’é›†ã‚ã•ã›ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚ä»Šå›ã¯ Swarm ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®å„ãƒãƒ¼ãƒ‰ã«1ã¤ãšã¤ fluentd ã‚’èµ·å‹•ã—ã¦ã€ã‚ã‚‹ãƒãƒ¼ãƒ‰ä¸Šã§å‹•ãã‚³ãƒ³ãƒ†ãƒŠã®ãƒ­ã‚°ã¯ãã®ãƒãƒ¼ãƒ‰ä¸Šã® fluentd ã«é›†ã¾ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ãã¾ã™ã€‚\n\n## ãƒã‚¤ãƒ³ãƒˆ\n\n* å„ãƒãƒ¼ãƒ‰ã«é…ç½®ã™ã‚‹ã«ã¯ ","draft":false,"tags":[{"name":"Fluentd","ref":"/tags/fluentd"},{"name":"Docker","ref":"/tags/docker"}],"showTerminalAside":false},{"title":"Raspberry Pi Zero WHã«Volumio 3ã‚’å…¥ã‚Œã‚‹å ´åˆã¯2ç³»ã‹ã‚‰ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹","date":"2023-09-09T00:00:00.000Z","ref":"/posts/2023/09/volumio-raspberrypi-zero","desc":" æ²é¡Œã®é€šã‚Šã§ã™ã€‚ä»Šæ›´ãªãŒã‚‰ã€ãã®è¾ºã«è»¢ãŒã£ã¦ã„ã‚‹ãƒ©ã‚ºãƒ‘ã‚¤ã‚¼ãƒ­ï¼ˆåˆä»£ã€Wi-Fi ä»˜ï¼‰ã¨ãã®è¾ºã«è»¢ãŒã£ã¦ã„ã‚‹ä¸­è¯ USB-DAC ã‚’ä½¿ã£ã¦ Spotify Connect ç”¨ã®ç’°å¢ƒã‚’æ•´ãˆã‚ˆã†ã¨ Volumio ã‚’å…¥ã‚Œã¦ã¿ã¾ã—ãŸã€‚\n\n## ä½¿ã£ãŸã‚‚ã®\n\n* Raspberry Pi Zero WH\n* Micro SD\n* é›»æºï¼ˆApple ã® 5W 1A ã®ã‚„ã¤ã§ååˆ†ï¼‰\n* Micro USB ã‚±ãƒ¼ãƒ–ãƒ«\n* USB OTG ã‚±ãƒ¼ãƒ–ãƒ«ï¼ˆMicro USB ã‚ªã‚¹ã‹ã‚‰ USB A ãƒ¡ã‚¹ã«å¤‰æ›ã™ã‚‹ã‚„ã¤ï¼‰\n* Min","draft":false,"tags":[{"name":"Volumio","ref":"/tags/volumio"},{"name":"Raspberry Pi","ref":"/tags/raspberry-pi"}],"showTerminalAside":false},{"title":"AWS Certified Solutions Architect - Associateã‚’å–å¾—ã—ãŸ","date":"2023-08-13T00:00:00.000Z","ref":"/posts/2023/08/aws-solutions-architect-associate","desc":" AWS èªå®šã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ - Associate (SAA-C03) ã®è³‡æ ¼ã‚’å–å¾—ã—ãŸã®ã§å­¦ç¿’ãƒ¡ãƒ¢ã§ã™ã€‚\n\néå»ã®è³‡æ ¼ã«é–¢ã™ã‚‹è¨˜äº‹ã¯ã“ã¡ã‚‰\n* CKADå—æ¤œè¨˜éŒ²ã€2023å¹´ç‰ˆã€‘\n* GCPæœªçµŒé¨“ã®æ–°å’2å¹´ç›®ãŒAssociate Cloud Engineerã¨Professional Cloud Architectã‚’é€£ç¶šã§å—æ¤œã—ãŸã¨ãã®è¨˜éŒ²\n* æ–°å’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒCKAå–å¾—ã‚’ç›®æŒ‡ã—ã¦Kubernetesã‚’å‹‰å¼·ã—ãŸã¨ãã®è¨˜éŒ²\n\nç¶šãã®è¨˜äº‹ â†’ AWS Certified Solutions Arc","draft":false,"tags":[{"name":"AWS","ref":"/tags/aws"},{"name":"è³‡æ ¼","ref":"/tags/è³‡æ ¼"}],"showTerminalAside":false},{"title":"Synologyã®Hyper Backupã‚’ä½¿ã£ã¦è‡ªåˆ†ã®ã‚µãƒ¼ãƒãƒ¼ã¸ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆrsync over SSHï¼‰","date":"2023-07-22T00:00:00.000Z","ref":"/posts/2023/07/synology-hyper-backup-rsync-over-ssh","desc":" å…ˆæ—¥ Synology ã® NAS ã‚’å°å…¥ã—ãŸã®ã§ã™ãŒã€è€éšœå®³æ€§ã‚’è€ƒæ…®ã™ã‚‹ã¨åˆ¥ã®æ‹ ç‚¹ã¨ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒæ¬²ã—ããªã£ã¦ãã¾ã™ã€‚Synology ã® NAS ã¯ QuickConnect ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ Synology ç¤¾ã®ã‚µãƒ¼ãƒãƒ¼ã‚’çµŒç”±ã™ã‚‹ã“ã¨ã§ã€è‡ªå®…ã®ãƒãƒ¼ãƒˆã‚’é–‹æ”¾ã›ãšã«æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ãŒãƒ¡ãƒªãƒƒãƒˆã§ã™ã€‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç”¨é€”ã®ãŸã‚ã ã‘ã§ã«ãƒãƒ¼ãƒˆã‚’é–‹æ”¾ã™ã‚‹ã®ã¯ã‚¢ãƒ¬ãªã®ã§ã€è‡ªå®…ã‹ã‚‰ã®ã‚¢ã‚¦ãƒˆãƒã‚¦ãƒ³ãƒ‰ã®é€šä¿¡ã§å®šæœŸçš„ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è¡Œã†æ–¹æ³•ã‚’æ¤œè¨ã—ã¾ã—ãŸã€‚\n\n## æ§‹æˆ\n\nè¶…ã‚·ãƒ³ãƒ—ãƒ«æ§‹æˆã§ã™ã€‚\n\n!æ§‹æˆå›³\n\nNAS","draft":false,"tags":[{"name":"Synology","ref":"/tags/synology"},{"name":"NAS","ref":"/tags/nas"},{"name":"rsync","ref":"/tags/rsync"}],"showTerminalAside":false},{"title":"Fluentdã§ãƒ‹ãƒ•ã‚¯ãƒ©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ­ã‚°ã‚’é€ã‚‹","date":"2023-07-05T00:00:00.000Z","ref":"/posts/2023/07/fluentd-nifcloud-object-storage-service","desc":" Fluentd ã® fluent-plugin-s3 ã‚’ä½¿ã£ã¦ãƒ‹ãƒ•ã‚¯ãƒ©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ­ã‚°ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚\n\n## ãƒã‚¤ãƒ³ãƒˆ\n\n* `s3_endpoint` ã‚’æŒ‡å®šã™ã‚‹\n  * https://jp-east-1.storage.api.nifcloud.com ã¾ãŸã¯ https://jp-west-2.storage.api.nifcloud.com\n  * å‚ç…§: ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n* `force_path_style` ã‚’ true ã«ã™ã‚‹\n  * ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ","draft":false,"tags":[{"name":"Fluentd","ref":"/tags/fluentd"},{"name":"ãƒ‹ãƒ•ã‚¯ãƒ©","ref":"/tags/ãƒ‹ãƒ•ã‚¯ãƒ©"},{"name":"ãƒ­ã‚°","ref":"/tags/ãƒ­ã‚°"}],"showTerminalAside":false},{"title":"ã‚·ãƒ³ãƒ—ãƒ«æ€è€ƒã‚’å¾¹åº•ã—ã‚ˆã†ï¼šã“ã®åŠå¹´ã®æŒ¯ã‚Šè¿”ã‚Š","date":"2023-06-25T00:00:00.000Z","ref":"/posts/2023/06/reflection","desc":" å…ˆæ—¥ã€ã“ã®åŠå¹´ãã‚‰ã„æ‹…å½“ã•ã›ã¦ã‚‚ã‚‰ã£ãŸä»•äº‹ãŒä¸€åŒºåˆ‡ã‚Šã¤ã„ãŸã®ã§æŒ¯ã‚Šè¿”ã‚Šã‚’ã—ã¦ãŠã“ã†ã‹ãªã¨æ€ã„ã¾ã™ã€‚\n\nå…¨éƒ¨ã‚ˆãã‚ã‚‹è©±ã ã¨æ€ã„ã¾ã™ãŒã€ã€ŒçµŒé¨“ã—ãªã„ã¨ã‚ã‹ã‚‰ãªã„ã“ã¨ã‚‚ã‚ã‚‹ã‚‚ã®ã ã€ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã¯æ€è€ƒå‚ã‚Œæµã—å›ã§ã™ã€‚\n\n## ã¨ã«ã‹ãä½™è£•ã‚’\n\nå–ã‚Šæ›ã‹ã‚Šå§‹ã‚ãŸã“ã‚ã€è«¸å…ˆè¼©æ–¹ã«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒªãƒªãƒ¼ã‚¹ã§ã¯ã¨ã«ã‹ãæœ€ä½é™ã®ã‚‚ã®ã‚’ä½œã‚‹ã‚ˆã†ã«è¨€ã‚ã‚ŒãŸãŒã€ä»Šãªã‚‰ãã‚ŒãŒèº«ã«æ²ã¿ã¦ã‚ã‹ã‚‹ã€‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«çš„ã«ä½™è£•ã‚’æŒãŸã›ã‚‹åŠ¹æœã®ã»ã‹ã€ã‚¨ãƒ³ãƒãƒ³ã‚¹ã®ä¼¸ã³ã—ã‚ã‚‚å¤§ãããªã‚‹ã®ã§ã€ãƒªãƒªãƒ¼ã‚¹å¾Œã«æ©Ÿèƒ½æ‹¡å……ã—ã¦ã„ãã“ã¨ã§å¯¾å¤–çš„ãªè¦‹ãŸç›®ãŒè‰¯ããªã‚‹åŠ¹","draft":false,"tags":[{"name":"Personal","ref":"/tags/personal"}],"showTerminalAside":false},{"title":"Kubernetesã®Podã‹ã‚‰ãƒ©ã‚ºãƒ‘ã‚¤ã®GPIOã‚’æ“ä½œã™ã‚‹","date":"2023-06-24T00:00:00.000Z","ref":"/posts/2023/06/k8s-raspi-gpio","desc":" ä»Šã¾ã§ Docker Compose ã§å‹•ã‹ã—ã¦ãŸã‚¢ãƒ—ãƒªã‚’ Kubernetes ã«ç§»æ¤ã—ãŸã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚\n\n## Docker Compose ã§ã¯\n\nDocker ã® `--device` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨åŒã˜è¨˜æ³•ã§æŒ‡å®šã§ãã¦ã„ã¾ã—ãŸã€‚\n\n```yaml\nservices:\n  app:\n    image: hoge\n    devices:\n      - /dev/gpiomem\n```\n\n## Kubernetes ã§ã¯\n\nãƒ‡ãƒã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ Kubelet ã«ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒªã‚½ãƒ¼ã‚¹ã‚’çŸ¥","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"},{"name":"Raspberry Pi","ref":"/tags/raspberry-pi"}],"showTerminalAside":false},{"title":"Ubuntu 22.04ã§ã¯usercfg.txtãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§includeã•ã‚Œã¦ã„ãªã„ã®ã§æ³¨æ„","date":"2023-06-14T00:00:00.000Z","ref":"/posts/2023/06/ubuntu-22.04-raspi-config.txt","desc":" ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã§ã™ã€‚ã“ã‚Œã«ã—ã°ã‚‰ããƒãƒã£ã¦ã—ã¾ã£ãŸã®ã§æˆ’ã‚ã®ãŸã‚ã«æ›¸ã„ã¦ãŠãã¾ã™ã€‚\n\n## tl;dr\n\nUbuntu 20.04 ã®æ™‚ã¨åŒã˜è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ©ã‚ºãƒ‘ã‚¤ã® /boot/firmware ã«å…¥ã‚Œã¦ã„ãŸã‘ã©åæ˜ ã•ã‚Œã¦ã„ãªã‹ã£ãŸã€‚èª¿ã¹ã¦ã¿ãŸã‚‰ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ include ã™ã‚‹æ–‡ãŒ Ubuntu 22.04 ã§ã¯æ¶ˆã•ã‚Œã¦ã„ãŸã€‚\n\n## ãã‚‚ãã‚‚ config.txt ã¨ã¯ï¼Ÿ\n\n\u003e The Raspberry Pi uses a configuration file instead of the BI","draft":false,"tags":[{"name":"Ubuntu","ref":"/tags/ubuntu"},{"name":"Raspberry Pi","ref":"/tags/raspberry-pi"}],"showTerminalAside":false},{"title":"ãƒ©ã‚ºãƒ‘ã‚¤ã§K3sã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰","date":"2023-06-13T00:00:00.000Z","ref":"/posts/2023/06/k3s-setup","desc":" ä»Šã¾ã§ kubeadm ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼é‹ç”¨ã‚’ã—ã¦ã„ãŸã®ã§ã™ãŒã€ãƒ©ã‚ºãƒ‘ã‚¤ãã‚“ãŸã¡ã®ãŠå¼•è¶Šã—ã®é–¢ä¿‚ã§å†æ§‹ç¯‰ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚Raspberry Pi 4B 2GB ã‚„ 3A+ï¼ˆRAM 512MBï¼‰ã‚‚ join ã•ã›ãŸã‹ã£ãŸã“ã¨ã‚‚ã‚ã‚Šã€ã‚¨ãƒƒã‚¸ç’°å¢ƒã§ã®å‹•ä½œã‚‚æƒ³å®šã•ã‚Œã¦ã„ã‚‹ K3s ã‚’é¸ã³ã¾ã—ãŸã€‚\n\n## ç’°å¢ƒ\n\n* Raspberry Pi 4B 8GB x 2, Raspberry Pi 4B 4GB x 1, Raspberry Pi 4B 2GB x 1\n  * SSD ãƒ–ãƒ¼ãƒˆ\n  * PoE+ é›»æº\n  ","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"},{"name":"K3s","ref":"/tags/k3s"},{"name":"Raspberry Pi","ref":"/tags/raspberry-pi"}],"showTerminalAside":false},{"title":"Celeryã«ãŠã‘ã‚‹SQLAlchemyã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†","date":"2023-05-15T00:00:00.000Z","ref":"/posts/2023/05/celery-sqlalchemy","desc":" å‰å›ã®è¨˜äº‹ã§ã¯ SQLAlchemy ã® Session ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ãã®å¿œç”¨ã¨ã—ã¦ã€Celery ã«ãŠã„ã¦ã©ã®ã‚ˆã†ã« Session ã‚’ç®¡ç†ã™ã‚‹ã‹ã‚’è€ƒãˆãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\né–¢é€£è¨˜äº‹ï¼š\n* SQLAlchemyã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç†è§£ã™ã‚‹\n* SQLAlchemyã§'MySQL server has gone away'ãŒç™ºç”Ÿã—ãŸæ™‚ã®å¯¾å‡¦æ³•2ã¤\n\n## çµè«–\n\nä»¥ä¸‹ã®ã‚ˆã†ã« DB æ“ä½œã‚’è¡Œã†ã‚¿ã‚¹ã‚¯ã®ãŸã‚ã®ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```python\nfrom typing impo","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"SQLAlchemy","ref":"/tags/sqlalchemy"},{"name":"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹","ref":"/tags/ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"},{"name":"Celery","ref":"/tags/celery"}],"showTerminalAside":false},{"title":"SQLAlchemyã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç†è§£ã™ã‚‹","date":"2023-05-14T00:00:00.000Z","ref":"/posts/2023/05/sqlalchemy-sessions-and-transactions","desc":" SQLAlchemy ã® Session ã‚„ scoped_sessionã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«é–¢ã—ã¦ç†è§£ã—ã¦ã„ãã¾ã™ã€‚\n\n## ç”¨èªãŠã•ã‚‰ã„\n\n### ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆSessionï¼‰\n\nSQLAlchemy ã® Session ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ORM ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ°¸ç¶šåŒ–ã«é–¢ã™ã‚‹æ“ä½œã‚’ç®¡ç†ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚\n\n`sqlalchemy.orm.Session` ã‚’ç›´æ¥ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ã¦ã‚‚è‰¯ã„ã§ã™ãŒã€å®Ÿç’°å¢ƒã§ã¯ sessionmaker ã‚’ä½¿ã†ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚sessionmaker ã¯ ","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"SQLAlchemy","ref":"/tags/sqlalchemy"},{"name":"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹","ref":"/tags/ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"}],"showTerminalAside":true},{"title":"Reactã§æ¤œç´¢ãƒ»ã‚½ãƒ¼ãƒˆå¯èƒ½ãªDataTableã‚’è‡ªä½œã™ã‚‹","date":"2023-04-22T00:00:00.000Z","ref":"/posts/2023/04/datatable-react","desc":" æœ€è¿‘ã€MUI ã®å¦¹åˆ†ã® UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ Joy-UI ã‚’ä½¿ã£ã¦ã¾ã™ã€‚ç¾åœ¨é€²è¡Œå½¢ã§æ´»ç™ºã«é–‹ç™ºãŒé€²ã‚“ã§ã„ã¦ã€è¨­è¨ˆï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ã‚‚ä»Šæ™‚ãªæ„Ÿã˜ã§å¥½æ„Ÿè§¦ã§ã™ã€‚ã¨ã“ã‚ã©ã“ã‚ã¾ã é–‹ç™ºã•ã‚Œã¦ã„ãªã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚ã¡ã‚‰ã»ã‚‰ã‚ã‚‹ã‚‚ã®ã®ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ä»£æ›¿ç­–ãŒã‚³ãƒ¼ãƒ‰ä»˜ãã§è¼‰ã£ã¦ã„ã¦ã¨ã¦ã‚‚è¦ªåˆ‡ã§ã™ã€‚\n\nMUI X ã¨ã„ã†ã‚ˆã‚Šç™ºå±•çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚‚ã¤ UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã‚ã‚‹ã®ã§ã™ãŒã€ãã“ã«ä»Šå›ã®ãƒ†ãƒ¼ãƒã§ã‚ã‚‹ã€Œãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã€ã«è©²å½“ã™ã‚‹ Data Grid ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯è¶…ã™ã”ãã¦ã€é›‘ã«è¨€ã†ã¨ Excel ","draft":false,"tags":[{"name":"React","ref":"/tags/react"},{"name":"Joy-UI","ref":"/tags/joy-ui"}],"showTerminalAside":false},{"title":"Kanikoã§ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¤ãã‚‹ãªã‚‰cache=trueã¯æœ‰åŠ¹ã«ã—ã¦ãŠã“ã†","date":"2023-04-18T00:00:00.000Z","ref":"/posts/2023/04/kaniko-cache","desc":" !ãœã‚“ãœã‚“ã‚ã‹ã‚‰ãªã„ã€€ä¿ºãŸã¡ã¯é›°å›²æ°—ã§ã‚«ãƒ‹ã‚³ã‚’ã‚„ã£ã¦ã„ã‚‹\n\næ¥ãšã‹ã—ãªãŒã‚‰ã€ã‚ãŸã—ã¯é›°å›²æ°—ã§ kaniko ã«ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã‚’ã—ã¦ã‚‚ã‚‰ã£ã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚1å¹´ä»¥ä¸Š GitLab CI ã§ kaniko ã‚’ä½¿ã£ã¦ãŠããªãŒã‚‰ã€ãŸã ã€Œç‰¹æ¨©ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã‚ãšã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã¤ãã‚Œã‚‹ã‚„ã¤ã€ãã‚‰ã„ã®èªè­˜ã—ã‹ã—ã¦ã„ãªã‹ã£ãŸã§ã™ã€‚\n\n## kaniko ã® cache=true ã‚ªãƒ—ã‚·ãƒ§ãƒ³\n\nkaniko ã«ã¯ `--cache` ã¨ã„ã†ãƒ•ãƒ©ã‚°ãŒã‚ã‚Šã€ã“ã‚Œã‚’ true ã«ã™ã‚‹ã“ã¨ã§ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥","draft":false,"tags":[{"name":"Kaniko","ref":"/tags/kaniko"},{"name":"CI/CD","ref":"/tags/ci-cd"},{"name":"ã‚³ãƒ³ãƒ†ãƒŠ","ref":"/tags/ã‚³ãƒ³ãƒ†ãƒŠ"},{"name":"GitLab","ref":"/tags/gitlab"}],"showTerminalAside":false},{"title":"IPoEå›ç·šã®è‡ªå®…ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’VPNçµŒç”±ã§å›ºå®šIPã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‹ã‚‰å…¬é–‹ã™ã‚‹","date":"2023-04-15T00:00:00.000Z","ref":"/posts/2023/04/reverse-proxy-to-home-ipoe-network","desc":" PPPoE å›ç·šãŒé…ã„ã®ã§ IPoEï¼ˆIPv4 over IPv6ï¼‰ã¸ç§»è¡Œã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚ä»¥å‰ã¯2ã¤ã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ã£ã¦ã€PPPoE ã¨ IPoE ã®2ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å¼µã‚‹ã“ã¨ãŒã§ããŸã®ã§ã™ãŒã€ã‚ã‚‹æ™‚ã‹ã‚‰ã§ããªããªã‚Šã€ã—ã°ã‚‰ã PPPoE ã ã‘ã§ç”Ÿæ´»ã—ã¦ã„ã¾ã—ãŸã€‚ã¨ã¯ã„ãˆã‚„ã¯ã‚Šé…ã„ã€é…ã™ãã‚‹â€¦â€¦ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã®è¨˜äº‹ã«è‡³ã‚Šã¾ã™ã€‚\n\nIPoE ã«ç§»è¡Œã™ã‚‹ã«ã‚ãŸã£ã¦ã®èª²é¡Œã¯**ä»»æ„ã®ãƒãƒ¼ãƒˆã‚’é–‹æ”¾ã§ããªã„ã“ã¨**ã§ã™ã€‚\n\nä»£ã‚ã‚Šã®æ–¹æ³•ã‚’è€ƒãˆã¦ã„ãŸã¨ã“ã‚ã€ã¡ã‚‡ã†ã©æ‰‹å…ƒã«1å° AWS Lightsail ã®ã‚µãƒ¼ãƒãƒ¼","draft":false,"tags":[{"name":"è‡ªå®…ã‚µãƒ¼ãƒãƒ¼","ref":"/tags/è‡ªå®…ã‚µãƒ¼ãƒãƒ¼"},{"name":"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯","ref":"/tags/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯"},{"name":"VPN","ref":"/tags/vpn"},{"name":"WireGuard","ref":"/tags/wireguard"},{"name":"HAProxy","ref":"/tags/haproxy"}],"showTerminalAside":false},{"title":"CKADå—æ¤œè¨˜éŒ²ã€2023å¹´ç‰ˆã€‘","date":"2023-03-30T00:00:00.000Z","ref":"/posts/2023/03/certified-kubernetes-application-developer","desc":" 2023å¹´3æœˆ30æ—¥ã« Certified Kubernetes Application Developer (CKAD) ã‚’å—é¨“ã—ã€åˆæ ¼ã—ã¾ã—ãŸã®ã§ãã®å—æ¤œè¨˜éŒ²è¨˜äº‹ã§ã™ã€‚ã¡ã‚‡ã†ã©1å¹´å‰ã« Certified Kuberenetes Administrator (CKA) ã‚’å–ã£ã¦ã„ãŸã®ã§ã€ãã®ç¶šãã¨ãªã‚Šã¾ã™ã€‚\n\nå‰å›ã®è¨˜äº‹ï¼šæ–°å’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒCKAå–å¾—ã‚’ç›®æŒ‡ã—ã¦Kubernetesã‚’å‹‰å¼·ã—ãŸã¨ãã®è¨˜éŒ²\n\n## å¯¾è±¡èª­è€…\n\n* Kubernetes ã‚’ä½¿ã£ã¦ã„ã‚‹ãŒã€è³‡æ ¼ã¯ã¾ã å–ã£ã¦ãªã„äºº\n* CKA ã‚’å–ã£","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"},{"name":"è³‡æ ¼","ref":"/tags/è³‡æ ¼"}],"showTerminalAside":false},{"title":"PyScriptã‚’ä½¿ã£ã¦ãƒ–ãƒ­ã‚°ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã•ã›ã‚‹","date":"2023-03-06T00:00:00.000Z","ref":"/posts/2023/03/pyscript-codeblock","desc":" å‰å›ã®è¨˜äº‹ã‚’æ›¸ãã¨ãã« WebAssembly ã§ãƒ–ãƒ­ã‚°ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã•ã›ã‚‰ã‚ŒãŸã‚‰é¢ç™½ã„ã‹ã‚‚ã€ã¨ã„ã†ã“ã¨ã§ PyScript ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¦ã¿ã¾ã—ãŸã€‚React \u0026 Next.js ã§ä½¿ã†éš›ã®æ³¨æ„ç‚¹ã«ã¤ã„ã¦ã‚‚æ›¸ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\nä»¥ä¸‹ã«ã¤ã„ã¦ã¯å‰æçŸ¥è­˜ã¨ã—ã¦ã“ã®è¨˜äº‹ã§ã¯è§£èª¬ã—ã¾ã›ã‚“ã€‚\n\n* PyScript\n* Pyodide\n* WebAssembly\n* react-markdown ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆ3ã¤ \\```ï¼‰ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ–¹æ³•\n\n## ã‚„ã£ãŸã“ã¨\n\n* r","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"WebAssembly","ref":"/tags/webassembly"},{"name":"PyScript","ref":"/tags/pyscript"},{"name":"JavaScript","ref":"/tags/javascript"},{"name":"React","ref":"/tags/react"},{"name":"Next.js","ref":"/tags/next.js"}],"showTerminalAside":true},{"title":"Pythonã®unittest.mock.patchã§ã¯ã©ã“ã«ãƒ‘ãƒƒãƒã™ã‚‹ã‹ãŒé‡è¦","date":"2023-03-04T00:00:00.000Z","ref":"/posts/2023/03/python-unittest-mock-where-to-patch","desc":" Python å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® unittest.mock ã®ãƒšãƒ¼ã‚¸ã«ãƒ‰ãƒ³ãƒ”ã‚·ãƒ£ã®å†…å®¹ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€ãªã‹ãªã‹æ°—ã¥ã‘ãšã«ãƒãƒã£ã¦ã—ã¾ã£ã¦ã„ãŸã®ã§ãƒ¡ãƒ¢ã§ã™ã€‚\n\n`unittest.mock.patch` ã§ãƒ‘ãƒƒãƒã—ãŸã‘ã©å½“ãŸã£ã¦ãªã„æ°—ãŒã™ã‚‹äººã¯å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\nä¸‹è¨˜ã®å¼•ç”¨ã«è¦ç‚¹ãŒå‡ç¸®ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\n\u003e ### ã©ã“ã«ãƒ‘ãƒƒãƒã™ã‚‹ã‹\n\u003e\n\u003e `patch()` ã¯ (ä¸€æ™‚çš„ã«) ã‚ã‚‹ åå‰ ãŒå‚ç…§ã—ã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ¥ã®ã‚‚ã®ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§é©ç”¨ã•ã‚Œã¾ã™ã€‚ä»»æ„ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€ãã‚Œã‚’å‚ç…§ã™ã‚‹","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"å˜ä½“ãƒ†ã‚¹ãƒˆ","ref":"/tags/å˜ä½“ãƒ†ã‚¹ãƒˆ"}],"showTerminalAside":true},{"title":"Ansibleã§gpgå…¬é–‹éµã¨aptã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã™ã‚‹ ï½Terraformã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ï½","date":"2023-03-01T00:00:00.000Z","ref":"/posts/2023/03/ansible-apt-repo-signed-by-gpg-key","desc":" apt ã‚’ä½¿ã£ã¦ docker ã‚„ terraform ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ™‚ãªã©ã€æä¾›å…ƒã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ apt ãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã™ã‚‹å ´åˆãŒçµæ§‹ã‚ã‚Šã¾ã™ã‚ˆã­ã€‚ãã®éš›ã«ã€ä»Šã¾ã§ã¯ `apt-key` ã‚’ä½¿ã£ã¦ OpenPGP å…¬é–‹éµã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ãŸã®ã§ã™ãŒã€`apt-key` ã¯ Debian 11 ã¨ Ubuntu 22.04 ã‚’æœ€å¾Œã«ä½¿ãˆãªããªã‚‹ ã®ã§ã€ä»Šå¾Œã¯ `gnupg` ã‚’ä½¿ã£ãŸæ–¹æ³•ãŒä¸»æµã«ãªã£ã¦ã„ãã¾ã™ã€‚\n\nAnsible ã«ã‚‚ ansible.builtin.apt_key module ","draft":false,"tags":[{"name":"Ansible","ref":"/tags/ansible"},{"name":"Terraform","ref":"/tags/terraform"},{"name":"APT","ref":"/tags/apt"}],"showTerminalAside":false},{"title":"Terraformã§API Gatewayã®ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹","date":"2023-02-23T00:00:00.000Z","ref":"/posts/2023/02/aws-api-gateway-terraform-throttling-settings","desc":" AWS API Gateway ã®ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã‚’ Terraform ã‚’ä½¿ã£ã¦è¨­å®šã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚‹ã¾ã§ã«å°‘ã—æ‰‹é–“å–ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚\n\n## AWS ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®å ´æ‰€\n\nä»Šå› Terraform ã§è¨­å®šã™ã‚‹ã®ã¯ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å„ã‚¹ãƒ†ãƒ¼ã‚¸ã®è¨­å®šç”»é¢å†…ã®ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã€ã«è©²å½“ã™ã‚‹ç®‡æ‰€ã§ã™ã€‚\n\n!management console\n\n## ãã‚‚ãã‚‚ API Gateway ã®ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã¨ã¯\n\nAPI Gateway ã§ã¯ API ãŒ1ç§’ã‚ãŸã‚Šã«å‡¦ç†ã§ãã‚‹ãƒªã‚¯ã‚¨","draft":false,"tags":[{"name":"AWS","ref":"/tags/aws"},{"name":"API Gateway","ref":"/tags/api-gateway"},{"name":"Terraform","ref":"/tags/terraform"}],"showTerminalAside":false},{"title":"ãƒ—ãƒ­ã‚»ã‚¹å¤–ä¾å­˜ã¯çµ±åˆãƒ†ã‚¹ãƒˆã§ç¢ºèªã—ã‚ˆã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬3éƒ¨","date":"2023-02-22T00:00:00.000Z","ref":"/posts/2023/02/unit-testing-principles-practices-and-patterns-part3","desc":" ã€å˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ã€ï¼ˆVladimir Khorikov è‘—ã€é ˆç”°æ™ºä¹‹è¨³ï¼‰ã‚’èª­ã‚“ã ã®ã§ã€ãã®ã¾ã¨ã‚ã‚’éƒ¨ã”ã¨ã«æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\n1. å˜ä½“ãƒ†ã‚¹ãƒˆã®ç›®çš„ãƒ»å®šç¾©ãƒ»å­¦æ´¾ãƒ»å‘½åã«ã¤ã„ã¦ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬1éƒ¨\n1. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆã‚’æ›¸ã“ã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å‰åŠ\n1. ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ­ã‚¸ãƒƒã‚¯ã¨é€£æºã®æŒ‡æ®ã‚’åˆ†é›¢ã™ã‚Œã°è‰¯ã„ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å¾ŒåŠ\n1. ãƒ—ãƒ­ã‚»ã‚¹å¤–ä¾å­˜ã¯çµ±åˆãƒ†ã‚¹ãƒˆã§ç¢ºèªã—ã‚ˆã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬3éƒ¨ï¼ˆã“","draft":false,"tags":[{"name":"å˜ä½“ãƒ†ã‚¹ãƒˆ","ref":"/tags/å˜ä½“ãƒ†ã‚¹ãƒˆ"},{"name":"èª­æ›¸","ref":"/tags/èª­æ›¸"}],"showTerminalAside":false},{"title":"ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ­ã‚¸ãƒƒã‚¯ã¨é€£æºã®æŒ‡æ®ã‚’åˆ†é›¢ã™ã‚Œã°è‰¯ã„ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å¾ŒåŠ","date":"2023-02-19T00:00:00.000Z","ref":"/posts/2023/02/unit-testing-principles-practices-and-patterns-part2-2","desc":" ã€å˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ã€ï¼ˆVladimir Khorikov è‘—ã€é ˆç”°æ™ºä¹‹è¨³ï¼‰ã‚’èª­ã‚“ã§ã„ã‚‹ã®ã§ã€ãã®ã¾ã¨ã‚ã‚’éƒ¨ã”ã¨ã«æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\n1. å˜ä½“ãƒ†ã‚¹ãƒˆã®ç›®çš„ãƒ»å®šç¾©ãƒ»å­¦æ´¾ãƒ»å‘½åã«ã¤ã„ã¦ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬1éƒ¨\n1. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆã‚’æ›¸ã“ã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å‰åŠ\n1. ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ­ã‚¸ãƒƒã‚¯ã¨é€£æºã®æŒ‡æ®ã‚’åˆ†é›¢ã™ã‚Œã°è‰¯ã„ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å¾ŒåŠï¼ˆã“ã®è¨˜äº‹ï¼‰\n1. ãƒ—ãƒ­ã‚»ã‚¹å¤–ä¾å­˜ã¯çµ±åˆãƒ†ã‚¹ãƒˆã§ç¢ºèªã—ã‚ˆã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿","draft":false,"tags":[{"name":"å˜ä½“ãƒ†ã‚¹ãƒˆ","ref":"/tags/å˜ä½“ãƒ†ã‚¹ãƒˆ"},{"name":"èª­æ›¸","ref":"/tags/èª­æ›¸"}],"showTerminalAside":false},{"title":"FastAPIã¨SQLAlchemy2.0ãªã‚‰ã‚‚ã†å‹ãƒ’ãƒ³ãƒˆã‚’è«¦ã‚ãªãã¦ã„ã„","date":"2023-02-08T00:00:00.000Z","ref":"/posts/2023/02/fastapi-orm-sqlalchemy","desc":" ã‚µãƒã‚³ï¼ˆGoogle Search Consoleï¼‰ã‚’çœºã‚ã¦ã„ãŸã‚‰ `FastAPI MySQL` ãŒãã‚Œãªã‚Šã«éœ€è¦ã‚ã‚Šãã†ã¨æ€ã£ãŸã®ã§ã€FastAPI ã¨ SQLAlchemy ã‚’çµ„ã¿åˆã‚ã›ã¦ ORM ã‚’ä½¿ã†æ–¹æ³•ã‚’ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚æœ€è¿‘ã® SQLAlchemyï¼ˆ1.4ä»¥é™ï¼‰ã§ã¯ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å‹ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã®ã§ã€å‹ãƒ’ãƒ³ãƒˆã‚’æ´»ã‹ã—ã¦å‹å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ã‚‚é›£ã—ããªããªã£ã¦ã„ã¾ã™ã€‚\n\n## ç’°å¢ƒ\n\n* Python 3.10.6\n* FastAPI 0.89.1\n* SQLAl","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"FastAPI","ref":"/tags/fastapi"},{"name":"SQLAlchemy","ref":"/tags/sqlalchemy"},{"name":"ORM","ref":"/tags/orm"}],"showTerminalAside":false},{"title":"TypedDictã¯dictã®subtypeã§ã¯ãªã„ã®ã§é–¢æ•°ã®å¼•æ•°ã«ã¯Mappingã‚’ä½¿ã†","date":"2023-02-06T00:00:00.000Z","ref":"/posts/2023/02/typeddict-is-not-subtype-of-dict","desc":" Python ã® dictï¼ˆè¾æ›¸ï¼‰ã‚’ TypeScript ã® interface ã®ã‚ˆã†ã«æ‰±ãˆã¦ä¾¿åˆ©ãª TypedDict ã§ã™ãŒã€**dict ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§ã¯ãªã„**ã¨ã„ã†ã®ãŒå°‘ã—è½ã¨ã—ç©´ã ãªã¨æ€ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚\n\n## ã¾ãšã¯ PEP ã‚’è¦‹ã‚ˆã†\n\nå¤§æŠµã®ã“ã¨ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã‚Œã°æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚ä»Šå›ã‚‚ä¾‹å¤–ãªããã†ã§ã—ãŸã€‚\n\n\u003e First, any TypedDict type is consistent with `Mapping[str, object]`.\n\nhttps://peps.py","draft":false,"tags":[{"name":"Python","ref":"/tags/python"}],"showTerminalAside":false},{"title":"ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆã‚’æ›¸ã“ã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å‰åŠ","date":"2023-02-04T00:00:00.000Z","ref":"/posts/2023/02/unit-testing-principles-practices-and-patterns-part2-1","desc":" ã€å˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ã€ï¼ˆVladimir Khorikov è‘—ã€é ˆç”°æ™ºä¹‹è¨³ï¼‰ã‚’èª­ã‚“ã§ã„ã‚‹ã®ã§ã€ãã®ã¾ã¨ã‚ã‚’éƒ¨ã”ã¨ã«æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\n1. å˜ä½“ãƒ†ã‚¹ãƒˆã®ç›®çš„ãƒ»å®šç¾©ãƒ»å­¦æ´¾ãƒ»å‘½åã«ã¤ã„ã¦ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬1éƒ¨\n1. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆã‚’æ›¸ã“ã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å‰åŠï¼ˆã“ã®è¨˜äº‹ï¼‰\n1. ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ­ã‚¸ãƒƒã‚¯ã¨é€£æºã®æŒ‡æ®ã‚’åˆ†é›¢ã™ã‚Œã°è‰¯ã„ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å¾ŒåŠ\n1. ãƒ—ãƒ­ã‚»ã‚¹å¤–ä¾å­˜ã¯çµ±åˆãƒ†ã‚¹ãƒˆã§ç¢ºèªã—ã‚ˆã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿","draft":false,"tags":[{"name":"å˜ä½“ãƒ†ã‚¹ãƒˆ","ref":"/tags/å˜ä½“ãƒ†ã‚¹ãƒˆ"},{"name":"èª­æ›¸","ref":"/tags/èª­æ›¸"}],"showTerminalAside":false},{"title":"å˜ä½“ãƒ†ã‚¹ãƒˆã®ç›®çš„ãƒ»å®šç¾©ãƒ»å­¦æ´¾ãƒ»å‘½åã«ã¤ã„ã¦ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬1éƒ¨","date":"2023-01-17T00:00:00.000Z","ref":"/posts/2023/01/unit-testing-principles-practices-and-patterns-part1","desc":" ã€å˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ã€ï¼ˆVladimir Khorikov è‘—ã€é ˆç”°æ™ºä¹‹è¨³ï¼‰ã‚’èª­ã‚“ã§ã„ã‚‹ã®ã§ã€ãã®ã¾ã¨ã‚ã‚’éƒ¨ã”ã¨ã«æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\n1. å˜ä½“ãƒ†ã‚¹ãƒˆã®ç›®çš„ãƒ»å®šç¾©ãƒ»å­¦æ´¾ãƒ»å‘½åã«ã¤ã„ã¦ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬1éƒ¨ï¼ˆã“ã®è¨˜äº‹ï¼‰\n1. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆã‚’æ›¸ã“ã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å‰åŠ\n1. ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒ­ã‚¸ãƒƒã‚¯ã¨é€£æºã®æŒ‡æ®ã‚’åˆ†é›¢ã™ã‚Œã°è‰¯ã„ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿ã„æ–¹ ç¬¬2éƒ¨å¾ŒåŠ\n1. ãƒ—ãƒ­ã‚»ã‚¹å¤–ä¾å­˜ã¯çµ±åˆãƒ†ã‚¹ãƒˆã§ç¢ºèªã—ã‚ˆã†ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹ï¼ä½¿","draft":false,"tags":[{"name":"å˜ä½“ãƒ†ã‚¹ãƒˆ","ref":"/tags/å˜ä½“ãƒ†ã‚¹ãƒˆ"},{"name":"èª­æ›¸","ref":"/tags/èª­æ›¸"}],"showTerminalAside":false},{"title":"SQLAlchemyã§'MySQL server has gone away'ãŒç™ºç”Ÿã—ãŸæ™‚ã®å¯¾å‡¦æ³•2ã¤","date":"2023-01-12T00:00:00.000Z","ref":"/posts/2023/01/sqlalchemy-dealing-with-disconnects","desc":" FastAPI ã§ SQLAlchemy ã‚’ä½¿ã£ã¦ã„ã‚‹æ™‚ã«ã€ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¦ãŸç›´å¾Œã¯å•é¡Œãªã„ã‘ã©ä¸€å®šæ™‚é–“çµŒéå¾Œã« DB æ¥ç¶šãŒåˆ‡ã‚Œã¦ã—ã¾ã†å•é¡Œã«é­é‡ã—ãŸã®ã§ãã®æ™‚ã«èª¿ã¹ãŸã“ã¨ã®ãƒ¡ãƒ¢ã€‚\n\n## ç’°å¢ƒ\n\n* mysql 5.7.15\n* SQLAlchemy 1.4.45\n* mysqlclient 2.1.1\n\n## å•é¡Œ\n\n```\nMySQLdb.OperationalError: (2006, 'MySQL server has gone away')\n```\n\næœ€å¾Œã« MySQL ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã—ã¦ã‹ã‚‰","draft":false,"tags":[{"name":"Python","ref":"/tags/python"},{"name":"SQLAlchemy","ref":"/tags/sqlalchemy"},{"name":"MySQL","ref":"/tags/mysql"},{"name":"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹","ref":"/tags/ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"}],"showTerminalAside":false},{"title":"2023å¹´ç‰ˆ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã®å€‹äººçš„ãƒ¡ãƒ¢","date":"2023-01-08T00:00:00.000Z","ref":"/posts/2023/01/keyboard-remap","desc":" ä¸å®šæœŸçš„ã«ã€Œã‚ãƒ¼ã§ã‚‚ãªã„ã€ã“ãƒ¼ã§ã‚‚ãªã„ã€ã¨è¨€ã£ã¦ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ã„ã˜ã‚Šã ã—ã¦ã—ã¾ã†ã“ã¨ã£ã¦ã‚ã‚Šã¾ã™ã‚ˆã­ã€‚ç§ã¯ã‚ã‚Šã¾ã™ã€‚é™ã‚Šã‚ã‚‹ã‚­ãƒ¼ã®ä¸­ã‹ã‚‰è‡ªåˆ†ã«ã¨ã£ã¦ã®æœ€é©è§£ã‚’è¦‹ã¤ã‘ã‚‹ä½œæ¥­ã¯ãªã‚“ã ã‹ã‚“ã æ¥½ã—ã„ã§ã™ã€‚\n\nä»Šå›ã¯ 2023 å¹´ç‰ˆã€ç§ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’æ›¸ãã¨ã‚ã¦ãŠã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\néå»ã®è¨˜äº‹: Windows10 ã¨ PowerToys ã§ US ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã‚‚ç„¡å¤‰æ›ãƒ»å¤‰æ›ã‚­ãƒ¼ã‚’ä½¿ã£ã¦ IME ã‚’ä¸€ç™ºã§åˆ‡ã‚Šæ›¿ãˆã‚‹\n\n## ç’°å¢ƒ\n\n* ä½¿ã†ãƒ‘ã‚½ã‚³ãƒ³\n  * Windows ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—\n  * ","draft":false,"tags":[{"name":"ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","ref":"/tags/ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰"}],"showTerminalAside":false},{"title":"ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§Kubernetesæ§‹ç¯‰ï¼ˆContainerd+Calicoï¼‰","date":"2022-12-27T00:00:00.000Z","ref":"/posts/2022/12/kubernetes-behind-proxy","desc":" åŒæœŸã¨ä¸€ç·’ã«ãƒˆãƒ©ã‚·ãƒ¥ã—ãŸã®ã§ã€ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒä¸‹ã§ kubeadm + Containerd + Calico ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¨˜éŒ²ã‚’æ®‹ã—ã¾ã™ã€‚\n\n## ç’°å¢ƒ\n\n* Ubuntu 22.04\n  * ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ã‚’åˆ©ç”¨ï¼ˆe-medium4 2vCPU/4GBï¼‰\n* Kubernetes v1.26.0\n* kubeadm v1.26.0\n* Containerd v1.6.14\n* Calico v3.24.5\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã€ãƒãƒ¼ãƒ‰1å°ãšã¤ã®æ§‹æˆã¨ã—ã¾","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"}],"showTerminalAside":false},{"title":"Ubuntu 22.04ã§ã®Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ï¼ˆContainerdã¨SystemdCgroupï¼‰","date":"2022-12-26T00:00:00.000Z","ref":"/posts/2022/12/kubernetes-ubuntu22.04-cgroup-systemd","desc":" å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰‹é †é€šã‚Šæµã—è¾¼ã‚ã°å‰²ã¨ç°¡å˜ã«æ§‹ç¯‰ã§ãã‚‹ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§ã™ãŒã€Ubuntu 22.04 ã«ãªã£ã¦ã‹ã‚‰å°‘ã—æ‰‹ã‚’å…¥ã‚Œã‚‹å¿…è¦ãŒå‡ºã¦ããŸã®ã§å·®åˆ†ã‚’ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã€‚\n\n**2022-02-16 æ›´æ–°ï¼šKubernetes ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ—¥æœ¬èªç‰ˆãŒæ›´æ–°ã•ã‚Œã¦ã„ãŸã®ã§ãƒªãƒ©ã‚¤ãƒˆã—ã¾ã—ãŸã€‚**\n\n## ç’°å¢ƒ\n\n* Ubuntu 22.04\n* Kubernetes v1.26.0\n* kubeadm v1.26.0\n* Containerd v1.6.16\n\n## ä½•ãŒå¤‰ã‚ã£","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"}],"showTerminalAside":false},{"title":"Kubernetesã§CoreDNSãŒãƒ«ãƒ¼ãƒ—ã—ã¦ã—ã¾ã†å•é¡Œã¸ã®å¯¾å‡¦","date":"2022-12-24T00:00:00.000Z","ref":"/posts/2022/12/kubernetes-coredns-loop","desc":" 1å¹´å‰ã«ã‚‚ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’è‡ªåŠ›ã§çµ„ã‚“ã§ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã¿ã‚‹ã€The Hard Wayã€‘ã®è¨˜äº‹ã®ä¸­ã§è»½ãè§£èª¬ã—ãŸãƒã‚¿ã§ã™ã€‚\n\n## ç’°å¢ƒ\n\n* Ubuntu 22.04\n* Kubernetes v1.26.0\n* kubeadm v1.26.0\n\n## å•é¡Œ\n\nKubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã§åå‰è§£æ±ºã«ä½¿ã‚ã‚Œã‚‹ CoreDNS ã® Pod ãŒ `CrashLoopBackOff` ã«ãªã£ã¦ã—ã¾ã„å†èµ·å‹•ã‚’ç¹°ã‚Šè¿”ã™å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\n\n```\n# kubectl ","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"}],"showTerminalAside":false},{"title":"VS Code Serverã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã®ã‚³ãƒ³ãƒ†ãƒŠä¸Šé–‹ç™ºç’°å¢ƒã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹","date":"2022-12-17T00:00:00.000Z","ref":"/posts/2022/12/vscode-server-devcontainer","desc":" ä»Šå›ã¯ã€Œã¼ãã®ã‹ã‚“ãŒãˆãŸã•ã„ãã‚‡ã†ã®ã‹ã„ã¯ã¤ã‹ã‚“ãã‚‡ã†ã€ã‚’ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\nVS Code Server ã‚’ä½¿ã„ã€ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ä¸Šã§ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦å‹•ã‹ã—ã¦ã„ã‚‹é–‹ç™ºç’°å¢ƒã«ç›´æ¥ä¹—ã‚Šè¾¼ã‚“ã§ã¿ã‚ˆã†ã€ã¨ã„ã†ã‚¢ã‚¤ãƒ‡ã‚¢ã§ã™ã€‚\n\nSSH ã‚‚ãƒãƒ¼ãƒˆé–‹æ”¾ã‚‚ä¸è¦ãªã®ã§ã¨ã¦ã‚‚ãŠæ‰‹è»½ã§ã™ã€‚\n\n## 2023/10/24 è¿½è¨˜\n\nGitLab ã®ãƒªãƒ¢ãƒ¼ãƒˆé–‹ç™ºç’°å¢ƒã‚‚è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚\n\nGitLabã®Remote developmentã‚’è©¦ã—ã¦ã¿ã‚‹\n\n## 2023/06/14 è¿½è¨˜\n\nä»¥ä¸‹ã§ç´¹ä»‹ã™ã‚‹æ–¹æ³•ãŒæœ€è¿‘ã¯ä½¿ãˆãªããªã£ã¦","draft":false,"tags":[{"name":"VS Code","ref":"/tags/vs-code"},{"name":"é–‹ç™ºç’°å¢ƒ","ref":"/tags/é–‹ç™ºç’°å¢ƒ"}],"showTerminalAside":false},{"title":"ã‚ˆãã‚ã‚‹SPA+APIæ§‹æˆã§ã®OpenID Connectã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…","date":"2022-12-02T00:00:00.000Z","ref":"/posts/2022/12/openid-connect-fastapi","desc":" ã“ã®è¨˜äº‹ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ç­‰ã‚’æä¾›ã—ã¦ã„ã‚‹ã€å¯Œå£«é€šã‚¯ãƒ©ã‚¦ãƒ‰ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚º Advent Calendar 2022ã®2æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\næ˜¨æ—¥ã¯ @ntoofu ã•ã‚“ã® ãƒ‘ã‚±ãƒƒãƒˆã‚­ãƒ£ãƒ—ãƒãƒ£ã‹ã‚‰Kubernetes APIã®TLSé€šä¿¡ã‚’è§£æã™ã‚‹ ã§ã—ãŸã€‚  \nç§ã¯ TLS ãªæ™‚ç‚¹ã§ãƒ‘ã‚±ãƒƒãƒˆã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’è«¦ã‚ã¦ã—ã¾ã„ãã†ã§ã™ãŒ Linux ã®ä¾¿åˆ©ãªä»•çµ„ã¿ã¨æ°—åˆãŒã‚ã‚Œã° TLS 1.3 ã®ãƒ‘ã‚±ãƒƒãƒˆã‚­ãƒ£ãƒ—ãƒãƒ£ã‚‚å¯èƒ½ã ã¨ã‚ã‹ã‚Šã€ã¨ã¦ã‚‚æœ‰ç›Šã§ã—ãŸã€‚ç§ã‚‚ã‚®ãƒ¼ã‚¯ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ç›®æŒ‡ã—ã¦é ‘å¼µã‚Šã¾ã™ã€‚\n\nä»Šæ—¥ã¯ OpenID Connec","draft":false,"tags":[{"name":"OpenID Connect","ref":"/tags/openid-connect"},{"name":"èªè¨¼/èªå¯","ref":"/tags/èªè¨¼-èªå¯"},{"name":"SPA","ref":"/tags/spa"},{"name":"Python","ref":"/tags/python"},{"name":"FastAPI","ref":"/tags/fastapi"}],"showTerminalAside":false},{"title":"GitLab CIã®rulesã¨workflowã‚’ç†è§£ã™ã‚‹","date":"2022-11-17T00:00:00.000Z","ref":"/posts/2022/11/gitlab-rules-workflow","desc":" GitLab CI ã® rules ã‚’ä½¿ã£ã¦ Dockerfile ãªã©ã®ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´æ™‚ã®ã¿ Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å›ã—ã¦ã€ãã‚Œä»¥å¤–ã®æ™‚ã«ã¯æ—¢å­˜ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ CI ã‚’å®Ÿè¡Œã™ã‚‹ã€ã¨ã„ã†çµ„ã¿æ–¹ã‚’ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€æ›¸ãæ–¹ã«çµæ§‹æ‰‹é–“å–ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚\n\nç’°å¢ƒ: GitLab.com 15.6.0-pre\n\n## rules ã¨ã¯\n\nhttps://docs.gitlab.com/ee/ci/yaml/#rules\n\nãã‚Œãã‚Œã®ã‚¸ãƒ§ãƒ–ã«ã¤ã„ã¦ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«è¿½","draft":false,"tags":[{"name":"GitLab","ref":"/tags/gitlab"},{"name":"CI/CD","ref":"/tags/ci-cd"}],"showTerminalAside":false},{"title":"Next.jsã¨Tailwind CSSã§ãƒ–ãƒ­ã‚°ã‚’ä½œã‚‹ã¨ãã«è€ƒãˆãŸã“ã¨","date":"2022-11-13T00:00:00.000Z","ref":"/posts/2022/11/blog-with-nextjs-and-tailwindcss","desc":" ã“ã®ãƒ–ãƒ­ã‚°ã¯ Next.js ã® SSGï¼ˆStatic Site Generation; é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆï¼‰æ©Ÿèƒ½ã‚’ä½¿ã„ãªãŒã‚‰ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®å¤§åŠã¯ Tailwind CSS ã‚’ä½¿ç”¨ã—ã¦æ•´ãˆã¦ã„ã¾ã™ã€‚ãã—ã¦ç”Ÿæˆã•ã‚ŒãŸ HTML, CSS, JS ã¯ GitHub Pages ã§ãƒ›ã‚¹ãƒˆã•ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã™ã€‚\n\nãã“ãã“ã®å‡ºæ¥æ „ãˆã«ãªã£ãŸã®ã§ã€ä»Šå›ã¯ã“ã®ãƒ–ãƒ­ã‚°ãŒã§ãã‚‹ã¾ã§ã®ãŠè©±ã‚’ã—ãŸã„ãªã¨æ€ã£ãŸã®ã§ã™ãŒã€æ­£ç›´ãªã¨ã“ã‚ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã®ãƒšãƒ¼ã‚¸ã‚’~~ã¾ã‚‹ãƒ‘ã‚¯~~å‚è€ƒã«ã•ã›ã¦ã‚‚ã‚‰ã„ãªãŒã‚‰ä½œæˆã—ãŸã®ã§ã€å…·ä½“çš„ãªæ§‹ç¯‰æ–¹æ³•ã«ã¤ã„","draft":false,"tags":[{"name":"JavaScript","ref":"/tags/javascript"},{"name":"React","ref":"/tags/react"},{"name":"Next.js","ref":"/tags/next.js"},{"name":"Tailwind CSS","ref":"/tags/tailwind-css"}],"showTerminalAside":false},{"title":"Hello World!","date":"2022-10-11T00:00:00.000Z","ref":"/posts/2022/10/hello-world","desc":" ã¯ã˜ã‚ã¾ã—ã¦ã€‚  \nã“ã‚Œã¯åˆã‚ã¦ã®æŠ•ç¨¿ã§ã™ã€‚\n\nä»Šã¾ã§ãƒ–ãƒ­ã‚°ãŒé•·ãç¶šã„ãŸã“ã¨ãŒãªã„ã®ã§ã™ãŒã€nåº¦ç›®ã®æ­£ç›´ã¨ã„ã†ã“ã¨ã§ä»Šå›ã“ãã¯é•·ãç¶šãã‚ˆã†ã«é ‘å¼µã‚ŠãŸã„ã¨æ€ã„ã¾ã™ï¼ˆã¨ã¦ã‚‚å›ºã„æ±ºæ„ï¼‰ã€‚\n\n@SogoKato ã¨ã„ã„ã¾ã™ã€‚ã©ã‚“ãªäººã‹æ°—ã«ãªã£ã¦ãã‚ŒãŸæ–¹ã¯ è‡ªå·±ç´¹ä»‹ãƒšãƒ¼ã‚¸ ã‚’ã”è¦§ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚\n\nã“ã®ãƒ–ãƒ­ã‚°ã®åˆ¶ä½œã«ã‚ãŸã£ã¦ã¯ã€åˆã‚ã¦ React + Next.js + Tailwind CSS ã‚’è§¦ã£ã¦ä½œã£ã¦ã¿ã¾ã—ãŸãŒã€çµæ§‹ã„ã„é–‹ç™ºè€…ä½“é¨“ã ã£ãŸã®ã§ã“ã‚Œã«ã¤ã„ã¦ã‚‚ã¾ãŸè¨˜äº‹ã«èµ·ã“ã—ã¦ã„ããŸã„ãªã€œã¨æ€ã£ã¦ã„ã¾ã™","draft":false,"tags":[{"name":"Personal","ref":"/tags/personal"}],"showTerminalAside":false}],"post":{"title":"ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§Kubernetesæ§‹ç¯‰ï¼ˆContainerd+Calicoï¼‰","date":"2022-12-27T00:00:00.000Z","ref":"/posts/2022/12/kubernetes-behind-proxy","desc":" åŒæœŸã¨ä¸€ç·’ã«ãƒˆãƒ©ã‚·ãƒ¥ã—ãŸã®ã§ã€ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒä¸‹ã§ kubeadm + Containerd + Calico ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¨˜éŒ²ã‚’æ®‹ã—ã¾ã™ã€‚\n\n## ç’°å¢ƒ\n\n* Ubuntu 22.04\n  * ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ã‚’åˆ©ç”¨ï¼ˆe-medium4 2vCPU/4GBï¼‰\n* Kubernetes v1.26.0\n* kubeadm v1.26.0\n* Containerd v1.6.14\n* Calico v3.24.5\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã€ãƒãƒ¼ãƒ‰1å°ãšã¤ã®æ§‹æˆã¨ã—ã¾","draft":false,"tags":[{"name":"Kubernetes","ref":"/tags/kubernetes"}],"showTerminalAside":false,"content":"\nåŒæœŸã¨ä¸€ç·’ã«ãƒˆãƒ©ã‚·ãƒ¥ã—ãŸã®ã§ã€ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒä¸‹ã§ kubeadm + Containerd + Calico ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è¨˜éŒ²ã‚’æ®‹ã—ã¾ã™ã€‚\n\n## ç’°å¢ƒ\n\n* Ubuntu 22.04\n  * ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‹ãƒ•ã‚¯ãƒ©ã‚’åˆ©ç”¨ï¼ˆe-medium4 2vCPU/4GBï¼‰\n* Kubernetes v1.26.0\n* kubeadm v1.26.0\n* Containerd v1.6.14\n* Calico v3.24.5\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã€ãƒãƒ¼ãƒ‰1å°ãšã¤ã®æ§‹æˆã¨ã—ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·ã‚’çµŒç”±ã—ãªã‘ã‚Œã°ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å‡ºã‚‰ã‚Œãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\n![network](//www.plantuml.com/plantuml/png/SoWkIImgAStDuSehJybCJ5Uevb9Go4ijASylobP8pybFIim12O51KNvfIMgHDP1NYwIee2YpBB4a5QugCIMbABMuMC5MGSdGt4ZFs53FGCz0tz1CoPeBnHo5Q6mg3PLYhQ7AalFpIehoSmfo4lDIOM9v-Icf40VKSZcavgK07Gu0)\n\nãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã® CIDR ã¯ `172.31.0.0/16`ã€ãƒ—ãƒ­ã‚­ã‚·ã¯ `http://172.31.0.1:3128` ã¨ã—ã¦é€²ã‚ã¾ã™ã€‚\n\nService CIDR ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® `10.96.0.0/12` ã‚’ã€Pod Network CIDR ã¯ Calico ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚‹ `192.168.0.0/16` ã‚’ä½¿ã„ã¾ã™ã€‚\n\nğŸ’¡ ç­†è€…ã®ç’°å¢ƒã§ã¯ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã™ã‚‹å†…å®¹ã§æ§‹ç¯‰ã§ãã¾ã—ãŸãŒã€ç’°å¢ƒã«ã‚ˆã£ã¦çŠ¶æ³ãŒç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·é…ä¸‹ã§ã®æ§‹ç¯‰ã«æŒ‘æˆ¦ã™ã‚‹å‰ã«ã€**ã¾ãšã¯ä¼¼ãŸç’°å¢ƒã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒã‚ã‚‹ã‚µãƒ¼ãƒãƒ¼ã§è©¦ã™ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™**ã€‚\n\n## ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®šãŒå¿…è¦ãªç®‡æ‰€\n\n### ç’°å¢ƒå¤‰æ•°ï¼ˆ`~/.bashrc`ï¼‰\n\n#### ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³\n\n```sh\nexport HTTP_PROXY=http://172.31.0.1:3128\nexport HTTPS_PROXY=http://172.31.0.1:3128\nexport NO_PROXY=localhost,127.0.0.1,172.31.0.0/16,10.96.0.0/12,192.168.0.0/16\n```\n\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã§ã¯ `NO_PROXY` ã« Sercice CIDR ã® IP ãƒ¬ãƒ³ã‚¸ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `10.96.0.0/12`ï¼‰ã¨ Pod Network CIDR ã® IP ãƒ¬ãƒ³ã‚¸ã‚’è¨­å®šã—ã¦ãŠãã“ã¨ã§ `kubeadm init` æ™‚ã® preflight check ã® WARNING ã‚’æŠ‘ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™[^1]ã€‚\n\nåæ˜ ã™ã‚‹ã«ã¯ `source ~/.bashrc` ã—ã¾ã™ã€‚\n\n[^1]: ä»¥å‰ã¯ IP ãƒ¬ãƒ³ã‚¸ã‚’æŒ‡å®šã§ããªã‹ã£ãŸã‚ˆã†ã§ã™ãŒã€ä»Šã¯å•é¡Œãªãä½¿ãˆã¾ã™ã€‚https://github.com/kubernetes/kubeadm/issues/324#issuecomment-331483277\n\n#### ãƒãƒ¼ãƒ‰\n\n```sh\nexport HTTP_PROXY=http://172.31.0.1:3128\nexport HTTPS_PROXY=http://172.31.0.1:3128\nexport NO_PROXY=localhost,127.0.0.1,172.31.0.0/16\n```\n\nãƒãƒ¼ãƒ‰ã§ã¯ `kubeadm init` ã‚’å®Ÿè¡Œã—ãªã„ã®ã§ã“ã‚Œã ã‘ã§ OKã€‚\n\n### `/etc/apt/apt.conf`\n\nå„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãŸã‚ã«å¿…è¦ã§ã™ã€‚\n\n```\nAcquire::http::proxy \"http://172.31.0.1:3128\";\nAcquire::https::proxy \"http://172.31.0.1:3128\";\n```\n\n### `/etc/systemd/system/containerd.service.d/http-proxy.conf`\n\n```\n[Service]\nEnvironment=\"HTTP_PROXY=http://172.31.0.1:3128\"\nEnvironment=\"HTTPS_PROXY=http://172.31.0.1:3128\"\nEnvironment=\"NO_PROXY=localhost,127.0.0.1,172.31.0.0/16,10.96.0.0/12\"\n```\n\n`NO_PROXY` ã« Pod Network CIDR ã® IP ãƒ¬ãƒ³ã‚¸ã‚‚è¿½åŠ ã—ã‚ˆã†ã‹ã¨æ€ã£ãŸã®ã§ã™ãŒã€ãƒãƒ¼ãƒ‰ã‚’è·¨ã„ã  Pod é–“ã®é€šä¿¡ãªã©è©¦ã—ãŸç¯„å›²ã§ã¯è¿½åŠ ã—ãªãã¦ã‚‚ç•°å¸¸ãŒãªã‹ã£ãŸã®ã§è¿½åŠ ã—ã¦ã„ã¾ã›ã‚“ã€‚  \nç­†è€…ã® Kubernetes ã®çŸ¥è­˜ãŒæµ…ã„ã ã‘ã‹ã‚‚ã—ã‚Œãªã„ã®ã§ã€æ¤œè¨¼ä¸è¶³ã§ã—ãŸã‚‰æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã§ã™ã€‚ğŸ™‡\n\nã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ãŸã‚‰ Containerd ã®å†èµ·å‹•ãŒå¿…è¦ã§ã™ã€‚\n\n```sh\nsystemctl daemon-reload\nsystemctl restart containerd\n```\n\n## æ§‹ç¯‰æ‰‹é †\n\nä¸Šè¨˜ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šä»¥å¤–ã¯é€šå¸¸ã®æ‰‹é †ã¨åŒã˜ã§ã™ã€‚\n\n* [kubeadmã‚’ä½¿ç”¨ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ä½œæˆ](https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/)\n* [kubeadmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/install-kubeadm/)\n* [CRIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://kubernetes.io/ja/docs/setup/production-environment/container-runtimes/)\n\nUbuntu 22.04 ã§æ§‹ç¯‰ã™ã‚‹éš›ã®æ³¨æ„ç‚¹ã«ã¤ã„ã¦ã¯ [Ubuntu 22.04ã§ã®Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ï¼ˆContainerdã¨SystemdCgroupï¼‰](/posts/2022/12/kubernetes-ubuntu22.04-cgroup-systemd) ã‚’ã”å‚ç…§ãã ã•ã„ã€‚\n\n```sh\nkubeadm init --pod-network-cidr 192.168.0.0/16\n```\n\n### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®é©ç”¨\n\næ§‹ç¯‰ãŒå®Œäº†ã—ãŸã‚‰ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é©ç”¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã¯ Calico ã‚’ä½¿ã†å ´åˆã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n```sh\ncurl https://raw.githubusercontent.com/projectcalico/calico/v3.24.5/manifests/calico.yaml -O\nkubectl apply -f calico.yaml\n```\n\n`kubectl -n kube-system get po -w` ã—ã¦ã€1ã¤ã® `calico-kube-controllers` ã¨ãƒãƒ¼ãƒ‰æ•°åˆ†ã® `calico-node` Pod ãŒ Running ãªã‚‰å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚CoreDNS ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ãƒã‚°ã‚’è¸ã‚“ã ã‚‰ [Kubernetesã§CoreDNSãŒãƒ«ãƒ¼ãƒ—ã—ã¦ã—ã¾ã†å•é¡Œã¸ã®å¯¾å‡¦](/posts/2022/12/kubernetes-coredns-loop) ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n## å‹•ä½œç¢ºèª\n\nç°¡å˜ãªå‹•ä½œç¢ºèªã‚’ã—ã¦ã¿ã¾ã™ã€‚\n\n```sh\nkubectl create deployment nginx --image=nginx\n```\n\n```sh\nPOD_NAME=$(kubectl get pods -l app=nginx -o jsonpath=\"{.items[0].metadata.name}\")\n```\n\nåˆ¥ã®ã‚·ã‚§ãƒ«ã‚’é–‹ãã€`curl localhost:8080` ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\n\n```sh\nkubectl port-forward $POD_NAME 8080:80\n```\n\nãƒ­ã‚°ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚\n\n```sh\nkubectl logs $POD_NAME\n```\n\nexec ã‚’è©¦ã—ã¾ã™ã€‚\n\n```sh\nkubectl exec -ti $POD_NAME -- nginx -v\n```\n\nNodePort Service ã‚’è©¦ã—ã¾ã™ã€‚\n\n```sh\nkubectl expose deployment nginx --port 80 --type NodePort\n```\n\n```sh\nNODE_PORT=$(kubectl get svc nginx \\\n  --output=jsonpath='{range .spec.ports[0]}{.nodePort}')\n```\n\n```sh\ncurl 127.0.0.1:$NODE_PORT\n```\n\n```sh\nkubectl delete svc nginx\n```\n\næ¬¡ã« Cluster IP Service ã‚’è©¦ã—ã¾ã™ã€‚\n\n```sh\nkubectl expose deployment nginx --port 80 --type ClusterIP\n```\n\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æƒ³å®šã—ãŸ Pod ã‚’å»ºã¦ã¾ã™ï¼ˆnginx ã§ã™ãŒï¼‰ã€‚\n\n```sh\nkubectl create deployment client --image=nginx\n```\n\n```sh\nPOD_NAME_CLIENT=$(kubectl get pods -l app=client -o jsonpath=\"{.items[0].metadata.name}\")\n```\n\nPod å†…ã§ `curl nginx` ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n\n```sh\nkubectl exec -ti $POD_NAME_CLIENT -- curl nginx\n```\n\n`\u003eWelcome to nginx!` ã® HTML ãŒè¿”ã£ã¦ã“ã‚Œã° OKï¼\n\n## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é›†\n\n### `FailedCreatePodSandBox` - ãƒ›ã‚¹ãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ IP ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯\n\n`calico-kube-controllers` ãŒ ContainerCreating ã§æ­¢ã¾ã£ã¦ã—ã¾ã†å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\n\n```\nEvents:\n  Type     Reason                  Age                 From               Message\n  ----     ------                  ----                ----               -------\n  Warning  FailedScheduling        115s                default-scheduler  0/1 nodes are available: 1 node(s) had untolerated taint {node.kubernetes.io/not-ready: }. preemption: 0/1 nodes are available: 1 Preemption is not helpful for scheduling..\n  Normal   Scheduled               104s                default-scheduler  Successfully assigned kube-system/calico-kube-controllers-7bdbfc669-97wdp to controlplane\n  Warning  FailedCreatePodSandBox  103s                kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to setup network for sandbox \"6a029253befac6840d358f8f78b865510bb3874b971fc7241d4ded6b1e92ce2d\": plugin type=\"calico\" failed (add): stat /var/lib/calico/nodename: no such file or directory: check that the calico/node container is running and has mounted /var/lib/calico/\n  Normal   SandboxChanged          16s (x3 over 103s)  kubelet            Pod sandbox changed, it will be killed and re-created.\n```\n\n`stat /var/lib/calico/nodename: no such file or directory: check that the calico/node container is running and has mounted /var/lib/calico/` ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¦ã„ã¾ã™ãŒã€å®Ÿéš›ã«ã¯ãƒã‚¦ãƒ³ãƒˆã¯ã§ãã¦ã„ã¾ã—ãŸã€‚\n\nã€Œãƒã‚¦ãƒ³ãƒˆã¯ã§ãã¦ nodenameï¼ˆãƒ›ã‚¹ãƒˆåï¼‰ã¯å–å¾—ã§ãã¦ã„ã‚‹ãŒã€ãƒ—ãƒ­ã‚­ã‚·ã«é˜»ã¾ã‚Œã¦é€šä¿¡ã§ãã¦ã„ãªã„ã®ã§ã¯ï¼Ÿã€ã¨è€ƒãˆã€Containerd ã® NO_PROXY ã®è¨­å®šã«ãƒ›ã‚¹ãƒˆã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã® CIDR ã‚’è¿½è¨˜ã—ãŸã‚‰ `172.31.0.0/16` ãŸã‚‰ã“ã®å•é¡Œã¯è§£æ±ºã—ã¾ã—ãŸã€‚\n\n```\n# vim /etc/systemd/system/containerd.service.d/http-proxy.conf\n```\n\n`172.31.0.0/16` ã‚’è¿½è¨˜ã€‚\n\n```\n[Service]\nEnvironment=\"HTTP_PROXY=http://172.31.0.1:3128\"\nEnvironment=\"HTTPS_PROXY=http://172.31.0.1:3128\"\nEnvironment=\"NO_PROXY=localhost,127.0.0.1,172.31.0.0/16\"\n```\n\n```\n# systemctl daemon-reload\n# systemctl restart containerd\n# kubectl -n kube-system delete po calico-kube-controllers-7bdbfc669-97wdp --force\nWarning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely.\npod \"calico-kube-controllers-7bdbfc669-97wdp\" force deleted\n```\n\n### `FailedCreatePodSandBox` - Service ã® IP ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯\n\nçŠ¶æ³ã¯å¤‰ã‚ã£ãŸã‚‚ã®ã®ã€ã“ã¡ã‚‰ã‚‚ `calico-kube-controllers` ãŒ ContainerCreating ã§æ­¢ã¾ã£ã¦ã—ã¾ã†å•é¡Œã§ã™ã€‚\n\n```\nEvents:\n  Type     Reason                  Age                From               Message\n  ----     ------                  ----               ----               -------\n  Normal   Scheduled               3m12s              default-scheduler  Successfully assigned kube-system/calico-kube-controllers-7bdbfc669-9gltp to controlplane\n  Warning  FailedCreatePodSandBox  72s                kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to setup network for sandbox \"68070146a6bd3c3a3044cbe84495c39ef3abafd069f171db2a185c8925aee2d1\": plugin type=\"calico\" failed (add): error getting ClusterInformation: Get \"https://10.96.0.1:443/apis/crd.projectcalico.org/v1/clusterinformations/default\": Service Unavailable\n  Normal   SandboxChanged          12s (x2 over 72s)  kubelet            Pod sandbox changed, it will be killed and re-created.\n```\n\nã“ã¡ã‚‰ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€šã‚Šãªã®ã§ã€Service CIDR ã‚’ Containerd ã® NO_PROXY ã«è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n# vim /etc/systemd/system/containerd.service.d/http-proxy.conf\n```\n\n`10.96.0.0/12` ã‚’è¿½è¨˜ã€‚\n\n```\n[Service]\nEnvironment=\"HTTP_PROXY=http://172.31.0.1:3128\"\nEnvironment=\"HTTPS_PROXY=http://172.31.0.1:3128\"\nEnvironment=\"NO_PROXY=localhost,127.0.0.1,172.31.0.0/16,10.96.0.0/12\"\n```\n\nå…ˆã»ã©ã¨åŒã˜ã‚ˆã†ã« daemon-reload, restart containerd, Pod ã®å¼·åˆ¶å‰Šé™¤ã‚’ã—ã¾ã™ã€‚\n\n## ã¾ã¨ã‚\n\næœ€å¾Œã¾ã§ãŠèª­ã¿ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\n\nãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ã¯ã€é€šå¸¸ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰ã‚ˆã‚Šã‚‚ Kubernetes ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¨ã‚Šã®çŸ¥è­˜ãŒè¦æ±‚ã•ã‚Œã‚‹ã®ã§å°‘ã—ãƒãƒ¼ãƒ‰ãƒ«ãŒä¸ŠãŒã‚Šã¾ã™ã€‚\n\nå†’é ­ã«ã‚‚æ›¸ãã¾ã—ãŸãŒã€ã¾ãšã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ç›´æ¥ç¹‹ãŒã‚‹ç’°å¢ƒã§æ§‹ç¯‰ã‚’è©¦ã—ã¦ã¿ã¦ã€ãã®å¾Œã«ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã§ã®æ§‹ç¯‰ã‚’å®Ÿæ–½ã™ã‚‹ã¨åŸå› ã®åˆ‡ã‚Šåˆ†ã‘ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\n\n## å‚è€ƒæ–‡çŒ®\n\n* [Installing kubernetes behind a corporate proxy](https://medium.com/@vivekanand.poojari/installing-kubernetes-behind-a-corporate-proxy-bc5582e43fb8)\n* [kubeadmã‚’ä½¿ç”¨ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ä½œæˆ](https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/)\n* [kubeadmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://kubernetes.io/ja/docs/setup/production-environment/tools/kubeadm/install-kubeadm/)\n* [CRIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://kubernetes.io/ja/docs/setup/production-environment/container-runtimes/)\n* [Install Calico networking and network policy for on-premises deployments](https://projectcalico.docs.tigera.io/getting-started/kubernetes/self-managed-onprem/onpremises)\n"}},"__N_SSG":true},"page":"/posts/[...slug]","query":{"slug":["2022","12","kubernetes-behind-proxy"]},"buildId":"zaKpGxW3TNwHTLzCmrU9Q","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-RE7Q7WBFDJ","strategy":"afterInteractive"},{"id":"_gtag","defer":true,"dangerouslySetInnerHTML":{"__html":"\n              if (window.location.hostname === \"sogo.dev\") {\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag(\"js\", new Date());\n                gtag(\"config\", \"G-RE7Q7WBFDJ\");\n              }"},"strategy":"afterInteractive"}]}</script></body></html>